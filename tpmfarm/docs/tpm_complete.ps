%!
%%BoundingBox: (atend)
%%Pages: (atend)
%%DocumentFonts: (atend)
%%EndComments
%
% FrameMaker PostScript Prolog 3.0, for use with FrameMaker 3.0
% Copyright (c) 1986,87,89,90,91 by Frame Technology Corporation.
% All rights reserved.
%
% Known Problems:
%	Due to bugs in Transcript, the 'PS-Adobe-' is omitted from line 1
/FMversion (3.0) def 
% Set up Color vs. Black-and-White
	/FMPrintInColor systemdict /colorimage known
		systemdict /currentcolortransfer known or def
% Uncomment this line to force b&w on color printer
%   /FMPrintInColor false def
/FrameDict 295 dict def 
systemdict /errordict known not {/errordict 10 dict def
		errordict /rangecheck {stop} put} if
% The readline in 23.0 doesn't recognize cr's as nl's on AppleTalk
FrameDict /tmprangecheck errordict /rangecheck get put 
errordict /rangecheck {FrameDict /bug true put} put 
FrameDict /bug false put 
mark 
% Some PS machines read past the CR, so keep the following 3 lines together!
currentfile 5 string readline
00
0000000000
cleartomark 
errordict /rangecheck FrameDict /tmprangecheck get put 
FrameDict /bug get { 
	/readline {
		/gstring exch def
		/gfile exch def
		/gindex 0 def
		{
			gfile read pop 
			dup 10 eq {exit} if 
			dup 13 eq {exit} if 
			gstring exch gindex exch put 
			/gindex gindex 1 add def 
		} loop
		pop 
		gstring 0 gindex getinterval true 
		} def
	} if
/FMVERSION {
	FMversion ne {
		/Times-Roman findfont 18 scalefont setfont
		100 100 moveto
		(FrameMaker version does not match postscript_prolog!)
		dup =
		show showpage
		} if
	} def 
/FMLOCAL {
	FrameDict begin
	0 def 
	end 
	} def 
	/gstring FMLOCAL
	/gfile FMLOCAL
	/gindex FMLOCAL
	/orgxfer FMLOCAL
	/orgproc FMLOCAL
	/organgle FMLOCAL
	/orgfreq FMLOCAL
	/yscale FMLOCAL
	/xscale FMLOCAL
	/manualfeed FMLOCAL
	/paperheight FMLOCAL
	/paperwidth FMLOCAL
/FMDOCUMENT { 
	array /FMfonts exch def 
	/#copies exch def
	FrameDict begin
	0 ne dup {setmanualfeed} if
	/manualfeed exch def
	/paperheight exch def
	/paperwidth exch def
	/yscale exch def
	/xscale exch def
	currenttransfer cvlit /orgxfer exch def
	currentscreen cvlit /orgproc exch def
	/organgle exch def /orgfreq exch def
	setpapername 
	manualfeed {true} {papersize} ifelse 
	{manualpapersize} {false} ifelse 
	{desperatepapersize} if
	end 
	} def 
	/pagesave FMLOCAL
	/orgmatrix FMLOCAL
	/landscape FMLOCAL
/FMBEGINPAGE { 
	FrameDict begin 
	/pagesave save def
	3.86 setmiterlimit
	/landscape exch 0 ne def
	landscape { 
		90 rotate 0 exch neg translate pop 
		}
		{pop pop}
		ifelse
	xscale yscale scale
	/orgmatrix matrix def
	gsave 
	} def 
/FMENDPAGE {
	grestore 
	pagesave restore
	end 
	showpage
	} def 
/FMFONTDEFINE { 
	FrameDict begin
	findfont 
	ReEncode 
	1 index exch 
	definefont 
	FMfonts 3 1 roll 
	put
	end 
	} def 
/FMFILLS {
	FrameDict begin
	array /fillvals exch def
	end 
	} def 
/FMFILL {
	FrameDict begin
	 fillvals 3 1 roll put
	end 
	} def 
/FMNORMALIZEGRAPHICS { 
	newpath
	0.0 0.0 moveto
	1 setlinewidth
	0 setlinecap
	0 0 0 sethsbcolor
	0 setgray 
	} bind def
	/fx FMLOCAL
	/fy FMLOCAL
	/fh FMLOCAL
	/fw FMLOCAL
	/llx FMLOCAL
	/lly FMLOCAL
	/urx FMLOCAL
	/ury FMLOCAL
/FMBEGINEPSF { 
	end 
	/FMEPSF save def 
	/showpage {} def 
	FMNORMALIZEGRAPHICS 
	[/fy /fx /fh /fw /ury /urx /lly /llx] {exch def} forall 
	fx fy translate 
	rotate
	fw urx llx sub div fh ury lly sub div scale 
	llx neg lly neg translate 
	} bind def
/FMENDEPSF {
	FMEPSF restore
	FrameDict begin 
	} bind def
FrameDict begin 
/setmanualfeed {
%%BeginFeature *ManualFeed True
	 statusdict /manualfeed true put
%%EndFeature
	} def
/max {2 copy lt {exch} if pop} bind def
/min {2 copy gt {exch} if pop} bind def
/inch {72 mul} def
/pagedimen { 
	paperheight sub abs 16 lt exch 
	paperwidth sub abs 16 lt and
	{/papername exch def} {pop} ifelse
	} def
	/papersizedict FMLOCAL
/setpapername { 
	/papersizedict 14 dict def 
	papersizedict begin
	/papername /unknown def 
		/Letter 8.5 inch 11.0 inch pagedimen
		/LetterSmall 7.68 inch 10.16 inch pagedimen
		/Tabloid 11.0 inch 17.0 inch pagedimen
		/Ledger 17.0 inch 11.0 inch pagedimen
		/Legal 8.5 inch 14.0 inch pagedimen
		/Statement 5.5 inch 8.5 inch pagedimen
		/Executive 7.5 inch 10.0 inch pagedimen
		/A3 11.69 inch 16.5 inch pagedimen
		/A4 8.26 inch 11.69 inch pagedimen
		/A4Small 7.47 inch 10.85 inch pagedimen
		/B4 10.125 inch 14.33 inch pagedimen
		/B5 7.16 inch 10.125 inch pagedimen
	end
	} def
/papersize {
	papersizedict begin
		/Letter {lettertray letter} def
		/LetterSmall {lettertray lettersmall} def
		/Tabloid {11x17tray 11x17} def
		/Ledger {ledgertray ledger} def
		/Legal {legaltray legal} def
		/Statement {statementtray statement} def
		/Executive {executivetray executive} def
		/A3 {a3tray a3} def
		/A4 {a4tray a4} def
		/A4Small {a4tray a4small} def
		/B4 {b4tray b4} def
		/B5 {b5tray b5} def
		/unknown {unknown} def
	papersizedict dup papername known {papername} {/unknown} ifelse get
	end
	/FMdicttop countdictstack 1 add def 
	statusdict begin stopped end 
	countdictstack -1 FMdicttop {pop end} for 
	} def
/manualpapersize {
	papersizedict begin
		/Letter {letter} def
		/LetterSmall {lettersmall} def
		/Tabloid {11x17} def
		/Ledger {ledger} def
		/Legal {legal} def
		/Statement {statement} def
		/Executive {executive} def
		/A3 {a3} def
		/A4 {a4} def
		/A4Small {a4small} def
		/B4 {b4} def
		/B5 {b5} def
		/unknown {unknown} def
	papersizedict dup papername known {papername} {/unknown} ifelse get
	end
	stopped 
	} def
/desperatepapersize {
	statusdict /setpageparams known
		{
		paperwidth paperheight 0 1 
		statusdict begin
		{setpageparams} stopped pop 
		end
		} if
	} def
/savematrix {
	orgmatrix currentmatrix pop
	} bind def
/restorematrix {
	orgmatrix setmatrix
	} bind def
/dmatrix matrix def
/dpi    72 0 dmatrix defaultmatrix dtransform
    dup mul exch   dup mul add   sqrt def
/freq dpi 18.75 div 8 div round dup 0 eq {pop 1} if 8 mul dpi exch div def
/sangle 1 0 dmatrix defaultmatrix dtransform exch atan def
/DiacriticEncoding [
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /space /exclam /quotedbl
/numbersign /dollar /percent /ampersand /quotesingle /parenleft
/parenright /asterisk /plus /comma /hyphen /period /slash /zero /one
/two /three /four /five /six /seven /eight /nine /colon /semicolon
/less /equal /greater /question /at /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /bracketleft /backslash
/bracketright /asciicircum /underscore /grave /a /b /c /d /e /f /g /h
/i /j /k /l /m /n /o /p /q /r /s /t /u /v /w /x /y /z /braceleft /bar
/braceright /asciitilde /.notdef /Adieresis /Aring /Ccedilla /Eacute
/Ntilde /Odieresis /Udieresis /aacute /agrave /acircumflex /adieresis
/atilde /aring /ccedilla /eacute /egrave /ecircumflex /edieresis
/iacute /igrave /icircumflex /idieresis /ntilde /oacute /ograve
/ocircumflex /odieresis /otilde /uacute /ugrave /ucircumflex
/udieresis /dagger /.notdef /cent /sterling /section /bullet
/paragraph /germandbls /registered /copyright /trademark /acute
/dieresis /.notdef /AE /Oslash /.notdef /.notdef /.notdef /.notdef
/yen /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/ordfeminine /ordmasculine /.notdef /ae /oslash /questiondown
/exclamdown /logicalnot /.notdef /florin /.notdef /.notdef
/guillemotleft /guillemotright /ellipsis /.notdef /Agrave /Atilde
/Otilde /OE /oe /endash /emdash /quotedblleft /quotedblright
/quoteleft /quoteright /.notdef /.notdef /ydieresis /Ydieresis
/fraction /currency /guilsinglleft /guilsinglright /fi /fl /daggerdbl
/periodcentered /quotesinglbase /quotedblbase /perthousand
/Acircumflex /Ecircumflex /Aacute /Edieresis /Egrave /Iacute
/Icircumflex /Idieresis /Igrave /Oacute /Ocircumflex /.notdef /Ograve
/Uacute /Ucircumflex /Ugrave /dotlessi /circumflex /tilde /macron
/breve /dotaccent /ring /cedilla /hungarumlaut /ogonek /caron
] def
/ReEncode { 
	dup 
	length 
	dict begin 
	{
	1 index /FID ne 
		{def} 
		{pop pop} ifelse 
	} forall 
	0 eq {/Encoding DiacriticEncoding def} if 
	currentdict 
	end 
	} bind def
/graymode true def
	/bwidth FMLOCAL
	/bpside FMLOCAL
	/bstring FMLOCAL
	/onbits FMLOCAL
	/offbits FMLOCAL
	/xindex FMLOCAL
	/yindex FMLOCAL
	/x FMLOCAL
	/y FMLOCAL
/setpattern {
	 /bwidth  exch def
	 /bpside  exch def
	 /bstring exch def
	 /onbits 0 def  /offbits 0 def
	 freq sangle landscape {90 add} if 
		{/y exch def
		 /x exch def
		 /xindex x 1 add 2 div bpside mul cvi def
		 /yindex y 1 add 2 div bpside mul cvi def
		 bstring yindex bwidth mul xindex 8 idiv add get
		 1 7 xindex 8 mod sub bitshift and 0 ne
		 {/onbits  onbits  1 add def 1}
		 {/offbits offbits 1 add def 0}
		 ifelse
		}
		setscreen
	 {} settransfer
	 offbits offbits onbits add div FMsetgray
	/graymode false def
	} bind def
/grayness {
	FMsetgray
	graymode not {
		/graymode true def
		orgxfer cvx settransfer
		orgfreq organgle orgproc cvx setscreen
		} if
	} bind def
	/HUE FMLOCAL
	/SAT FMLOCAL
	/BRIGHT FMLOCAL
	/Colors FMLOCAL
FMPrintInColor 
	
	{
	/HUE 0 def
	/SAT 0 def
	/BRIGHT 0 def
	% array of arrays Hue and Sat values for the separations [HUE BRIGHT]
	/Colors   
	[[0    0  ]    % black
	 [0    0  ]    % white
	 [0.00 1.0]    % red
	 [0.37 1.0]    % green
	 [0.60 1.0]    % blue
	 [0.50 1.0]    % cyan
	 [0.83 1.0]    % magenta
	 [0.16 1.0]    % comment / yellow
	 ] def
      
	/BEGINBITMAPCOLOR { 
		BITMAPCOLOR} def
	/BEGINBITMAPCOLORc { 
		BITMAPCOLORc} def
	/BEGINBITMAPTRUECOLOR { 
		BITMAPTRUECOLOR } def
	/BEGINBITMAPTRUECOLORc { 
		BITMAPTRUECOLORc } def
	/K { 
		Colors exch get dup
		0 get /HUE exch store 
		1 get /BRIGHT exch store
		  HUE 0 eq BRIGHT 0 eq and
			{1.0 SAT sub setgray}
			{HUE SAT BRIGHT sethsbcolor} 
		  ifelse
		} def
	/FMsetgray { 
		/SAT exch 1.0 exch sub store 
		  HUE 0 eq BRIGHT 0 eq and
			{1.0 SAT sub setgray}
			{HUE SAT BRIGHT sethsbcolor} 
		  ifelse
		} bind def
	}
	
	{
	/BEGINBITMAPCOLOR { 
		BITMAPGRAY} def
	/BEGINBITMAPCOLORc { 
		BITMAPGRAYc} def
	/BEGINBITMAPTRUECOLOR { 
		BITMAPTRUEGRAY } def
	/BEGINBITMAPTRUECOLORc { 
		BITMAPTRUEGRAYc } def
	/FMsetgray {setgray} bind def
	/K { 
		pop
		} def
	}
ifelse
/normalize {
	transform round exch round exch itransform
	} bind def
/dnormalize {
	dtransform round exch round exch idtransform
	} bind def
/lnormalize { 
	0 dtransform exch cvi 2 idiv 2 mul 1 add exch idtransform pop
	} bind def
/H { 
	lnormalize setlinewidth
	} bind def
/Z {
	setlinecap
	} bind def
	/fillvals FMLOCAL
/X { 
	fillvals exch get
	dup type /stringtype eq
	{8 1 setpattern} 
	{grayness}
	ifelse
	} bind def
/V { 
	gsave eofill grestore
	} bind def
/N { 
	stroke
	} bind def
/M {newpath moveto} bind def
/E {lineto} bind def
/D {curveto} bind def
/O {closepath} bind def
	/n FMLOCAL
/L { 
 	/n exch def
	newpath
	normalize
	moveto 
	2 1 n {pop normalize lineto} for
	} bind def
/Y { 
	L 
	closepath
	} bind def
	/x1 FMLOCAL
	/x2 FMLOCAL
	/y1 FMLOCAL
	/y2 FMLOCAL
	/rad FMLOCAL
/R { 
	/y2 exch def
	/x2 exch def
	/y1 exch def
	/x1 exch def
	x1 y1
	x2 y1
	x2 y2
	x1 y2
	4 Y 
	} bind def
% The following commented out code did not work for tangent lines of zero
% length.  The code following it was provided by Frame to patch this error.
%
%/RR { 
%	/rad exch def
%	normalize
%	/y2 exch def
%	/x2 exch def
%	normalize
%	/y1 exch def
%	/x1 exch def
%	newpath
%	x1 y1 rad add moveto
%	x1 y2 x2 y2 rad arcto
%	x2 y2 x2 y1 rad arcto
%	x2 y1 x1 y1 rad arcto
%	x1 y1 x1 y2 rad arcto
%	closepath
%	16 {pop} repeat
%	} bind def
/rarc
    {rad
     {arcto} stopped
    } bind def
/RR {
    /rad exch def
    normalize
    /y2 exch def
    /x2 exch def
    normalize
    /y1 exch def
    /x1 exch def
    mark
    newpath
    x1 y1 rad add moveto
    x1 y2 x2 y2 rarc
    x2 y2 x2 y1 rarc
    x2 y1 x1 y1 rarc
    x2 y1 x1 y1 rarc
    x1 y1 x1 y2 rarc
    closepath
    cleartomark
    } bind def

/C { 
	grestore
	gsave
	R 
	clip
	} bind def
	/FMpointsize FMLOCAL
/F { 
	FMfonts exch get
	FMpointsize scalefont
	setfont
	} bind def
/Q { 
	/FMpointsize exch def
	F 
	} bind def
/T { 
	moveto show
	} bind def
/RF { 
	rotate
	0 ne {-1 1 scale} if
	} bind def
/TF { 
	gsave
	moveto 
	RF
	show
	grestore
	} bind def
/P { 
	moveto
	0 32 3 2 roll widthshow
	} bind def
/PF { 
	gsave
	moveto 
	RF
	0 32 3 2 roll widthshow
	grestore
	} bind def
/S { 
	moveto
	0 exch ashow
	} bind def
/SF { 
	gsave
	moveto
	RF
	0 exch ashow
	grestore
	} bind def
/B { 
	moveto
	0 32 4 2 roll 0 exch awidthshow
	} bind def
/BF { 
	gsave
	moveto
	RF
	0 32 4 2 roll 0 exch awidthshow
	grestore
	} bind def
/G { 
	gsave
	newpath
	normalize translate 0.0 0.0 moveto 
	dnormalize scale 
	0.0 0.0 1.0 5 3 roll arc 
	closepath fill
	grestore
	} bind def
/A { 
	gsave
	savematrix
	newpath
	2 index 2 div add exch 3 index 2 div sub exch 
	normalize 2 index 2 div sub exch 3 index 2 div add exch 
	translate 
	scale 
	0.0 0.0 1.0 5 3 roll arc 
	restorematrix
	stroke
	grestore
	} bind def
	/x FMLOCAL
	/y FMLOCAL
	/w FMLOCAL
	/h FMLOCAL
	/xx FMLOCAL
	/yy FMLOCAL
	/ww FMLOCAL
	/hh FMLOCAL
	/FMsaveobject FMLOCAL
	/FMoptop FMLOCAL
	/FMdicttop FMLOCAL
/BEGINPRINTCODE { 
	/FMdicttop countdictstack 1 add def 
	/FMoptop count 4 sub def 
	/FMsaveobject save def
	userdict begin 
	/showpage {} def 
	FMNORMALIZEGRAPHICS 
	3 index neg 3 index neg translate
	} bind def
/ENDPRINTCODE {
	count -1 FMoptop {pop pop} for 
	countdictstack -1 FMdicttop {pop end} for 
	FMsaveobject restore 
	} bind def
/gn { 
	0 
	{	46 mul 
		cf read pop 
		32 sub 
		dup 46 lt {exit} if 
		46 sub add 
		} loop
	add 
	} bind def
	/str FMLOCAL
/cfs { 
	/str sl string def 
	0 1 sl 1 sub {str exch val put} for 
	str def 
	} bind def
/ic [ 
	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0223
	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0223
	0
	{0 hx} {1 hx} {2 hx} {3 hx} {4 hx} {5 hx} {6 hx} {7 hx} {8 hx} {9 hx}
	{10 hx} {11 hx} {12 hx} {13 hx} {14 hx} {15 hx} {16 hx} {17 hx} {18 hx}
	{19 hx} {gn hx} {0} {1} {2} {3} {4} {5} {6} {7} {8} {9} {10} {11} {12}
	{13} {14} {15} {16} {17} {18} {19} {gn} {0 wh} {1 wh} {2 wh} {3 wh}
	{4 wh} {5 wh} {6 wh} {7 wh} {8 wh} {9 wh} {10 wh} {11 wh} {12 wh}
	{13 wh} {14 wh} {gn wh} {0 bl} {1 bl} {2 bl} {3 bl} {4 bl} {5 bl} {6 bl}
	{7 bl} {8 bl} {9 bl} {10 bl} {11 bl} {12 bl} {13 bl} {14 bl} {gn bl}
	{0 fl} {1 fl} {2 fl} {3 fl} {4 fl} {5 fl} {6 fl} {7 fl} {8 fl} {9 fl}
	{10 fl} {11 fl} {12 fl} {13 fl} {14 fl} {gn fl}
	] def
	/sl FMLOCAL
	/val FMLOCAL
	/ws FMLOCAL
	/im FMLOCAL
	/bs FMLOCAL
	/cs FMLOCAL
	/len FMLOCAL
	/pos FMLOCAL
/ms { 
	/sl exch def 
	/val 255 def 
	/ws cfs 
	/im cfs 
	/val 0 def 
	/bs cfs 
	/cs cfs 
	} bind def
400 ms 
/cip { 
	is 
	0 
	cf cs readline pop 
	{	ic exch get exec 
		add 
		} forall 
	pop 

    /tot w 1 sub def
    0 1 tot {
        /indx exch def
        /indxa is indx get def
        /placer nredt indxa get def
        /placeg ngreent indxa get def
        /placeb nbluet indxa get def
        cris indx placer 255 mul cvi put
        cgis indx placeg 255 mul cvi put
        cbis indx placeb 255 mul cvi put
    } for pop cris

	
	} bind def
/ip { 
	is 
	0 
	cf cs readline pop 
	{	ic exch get exec 
		add 
		} forall 
	pop 

	} bind def
/wh { 
	/len exch def 
	/pos exch def 
	ws 0 len getinterval im pos len getinterval copy pop
	pos len 
	} bind def
/bl { 
	/len exch def 
	/pos exch def 
	bs 0 len getinterval im pos len getinterval copy pop
	pos len 
	} bind def
/s1 1 string def
/fl { 
	/len exch def 
	/pos exch def 
	/val cf s1 readhexstring pop 0 get def
	pos 1 pos len add 1 sub {im exch val put} for
	pos len 
	} bind def
/hx { 
	3 copy getinterval 
	cf exch readhexstring pop pop 
	} bind def
	/h FMLOCAL
	/w FMLOCAL
	/d FMLOCAL
	/lb FMLOCAL
	/bitmapsave FMLOCAL
	/is FMLOCAL
	/cf FMLOCAL
/wbytes { 
	dup 
	8 eq {pop} {1 eq {7 add 8 idiv} {3 add 4 idiv} ifelse} ifelse
	} bind def
/BEGINBITMAPBWc { 
	1 {} COMMONBITMAPc
	} bind def
/BEGINBITMAPGRAYc { 
	8 {} COMMONBITMAPc
	} bind def
/BEGINBITMAP2BITc { 
	2 {} COMMONBITMAPc
	} bind def
/COMMONBITMAPc { 
	/r exch def
	/d exch def
	gsave
	translate rotate scale /h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
	/bitmapsave save def 
	r                    
	/is im 0 lb getinterval def 
	ws 0 lb getinterval is copy pop 
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{ip} image 
	bitmapsave restore 
	grestore
	} bind def
/BEGINBITMAPBW { 
	1 {} COMMONBITMAP
	} bind def
/BEGINBITMAPGRAY { 
	8 {} COMMONBITMAP
	} bind def
/BEGINBITMAP2BIT { 
	2 {} COMMONBITMAP
	} bind def
/COMMONBITMAP { 
	/r exch def
	/d exch def
	gsave
	translate rotate scale /h exch def /w exch def
	/bitmapsave save def 
	r                    
	/is w d wbytes string def
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{cf is readhexstring pop} image
	bitmapsave restore 
	grestore
	} bind def
	/proc1 FMLOCAL
	/proc2 FMLOCAL
	/newproc FMLOCAL
/Fmcc {
    /proc2 exch cvlit def
    /proc1 exch cvlit def
    /newproc proc1 length proc2 length add array def
    newproc 0 proc1 putinterval
    newproc proc1 length proc2 putinterval
    newproc cvx
} bind def
/ngrayt 256 array def
/nredt 256 array def
/nbluet 256 array def
/ngreent 256 array def
	/gryt FMLOCAL
	/blut FMLOCAL
	/grnt FMLOCAL
	/redt FMLOCAL
	/indx FMLOCAL
	/cynu FMLOCAL
	/magu FMLOCAL
	/yelu FMLOCAL
	/k FMLOCAL
	/u FMLOCAL
/colorsetup {
    currentcolortransfer
    /gryt exch def
    /blut exch def
    /grnt exch def
    /redt exch def
    0 1 255 {
        /indx exch def
        /cynu 1 red indx get 255 div sub def
        /magu 1 green indx get 255 div sub def
        /yelu 1 blue indx get 255 div sub def
        /k cynu magu min yelu min def
        nredt indx 1 0 cynu max sub redt exec put
        ngreent indx 1 0 magu max sub grnt exec put
        nbluet indx 1 0 yelu max sub blut exec put
        ngrayt indx 1 k sub gryt exec put
    } for
	} bind def
	/tran FMLOCAL
/fakecolorsetup {
	/tran 256 string def
	0 1 255 {/indx exch def 
		tran indx
		red indx get 77 mul
		green indx get 151 mul
		blue indx get 28 mul
		add add 256 idiv put} for
	currenttransfer
	{255 mul cvi tran exch get 255.0 div}
	exch Fmcc settransfer
} bind def
/BITMAPCOLOR { 
	/d 8 def
	gsave
	translate rotate scale /h exch def /w exch def
	/bitmapsave save def 
	colorsetup
	/is w d wbytes string def
    /ris w d wbytes string def
    /gis w d wbytes string def
    /bis w d wbytes string def
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{cf is readhexstring pop
    /tot w 1 sub def
    0 1 tot {
        /indx exch def
        /indxa is indx get def
        /placer nredt indxa get def
        /placeg ngreent indxa get def
        /placeb nbluet indxa get def
        ris indx placer 255 mul cvi put
        gis indx placeg 255 mul cvi put
        bis indx placeb 255 mul cvi put
    } for pop ris}
	{gis} {bis} true 3 colorimage 
	bitmapsave restore 
	grestore
	} bind def
/BITMAPCOLORc { 
	/d 8 def
	gsave
	translate rotate scale /h exch def /w exch def
	/lb w d wbytes def 
	sl lb lt {lb ms} if 
	/bitmapsave save def 
	colorsetup
	/is im 0 lb getinterval def 
    /cris lb string def
    /cgis lb string def
    /cbis lb string def
	ws 0 lb getinterval is copy pop 
	/cf currentfile def 
	w h d [w 0 0 h neg 0 h] 
	{cip} {cgis} {cbis} true 3 colorimage
	bitmapsave restore 
	grestore
	} bind def
/BITMAPTRUECOLORc { 
        gsave
        translate rotate scale /h exch def /w exch def
        /bitmapsave save def 
        
        /is w string def
        
        ws 0 w getinterval is copy pop 
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        {ip} {gip} {bip} true 3 colorimage
        bitmapsave restore 
        grestore
        } bind def
/BITMAPTRUECOLOR { 
        gsave
        translate rotate scale /h exch def /w exch def
        /bitmapsave save def 
        /is w string def
        /gis w string def
        /bis w string def
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        { cf is readhexstring pop } 
        { cf gis readhexstring pop } 
        { cf bis readhexstring pop } 
        true 3 colorimage 
        bitmapsave restore 
        grestore
        } bind def
/BITMAPTRUEGRAYc { 
        gsave
        translate rotate scale /h exch def /w exch def
        /bitmapsave save def 
        
        /is w string def
        
        ws 0 w getinterval is copy pop 
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        {ip gip bip w gray} image
        bitmapsave restore 
        grestore
        } bind def
/ww FMLOCAL
/r FMLOCAL
/g FMLOCAL
/b FMLOCAL
/i FMLOCAL
/gray { 
        /ww exch def
        /b exch def
        /g exch def
        /r exch def
        0 1 ww 1 sub { /i exch def r i get .299 mul g i get .587 mul
			b i get .114 mul add add r i 3 -1 roll floor cvi put } for
        r
        } bind def
/BITMAPTRUEGRAY { 
        gsave
        translate rotate scale /h exch def /w exch def
        /bitmapsave save def 
        /is w string def
        /gis w string def
        /bis w string def
        /cf currentfile def 
        w h 8 [w 0 0 h neg 0 h] 
        { cf is readhexstring pop 
          cf gis readhexstring pop 
          cf bis readhexstring pop w gray}  image
        bitmapsave restore 
        grestore
        } bind def
/BITMAPGRAY { 
	8 {fakecolorsetup} COMMONBITMAP
	} bind def
/BITMAPGRAYc { 
	8 {fakecolorsetup} COMMONBITMAPc
	} bind def
/ENDBITMAP {
	} bind def
end 
	/ALDsave FMLOCAL
	/ALDmatrix matrix def ALDmatrix currentmatrix pop
/StartALD {
	/ALDsave save def
	 savematrix
	 ALDmatrix setmatrix
	} bind def
/InALD {
	 restorematrix
	} bind def
/DoneALD {
	 ALDsave restore
	} bind def
%%EndProlog
%%BeginSetup
(3.0) FMVERSION
1 1 612 792 0 1 12 FMDOCUMENT
0 0 /Helvetica-Bold FMFONTDEFINE
1 0 /Times-Roman FMFONTDEFINE
2 0 /Times-Bold FMFONTDEFINE
3 0 /Times-Italic FMFONTDEFINE
4 0 /Courier-Bold FMFONTDEFINE
5 0 /Helvetica-BoldOblique FMFONTDEFINE
32 FMFILLS
0 0 FMFILL
1 0.1 FMFILL
2 0.3 FMFILL
3 0.5 FMFILL
4 0.7 FMFILL
5 0.9 FMFILL
6 0.97 FMFILL
7 1 FMFILL
8 <0f1e3c78f0e1c387> FMFILL
9 <0f87c3e1f0783c1e> FMFILL
10 <cccccccccccccccc> FMFILL
11 <ffff0000ffff0000> FMFILL
12 <8142241818244281> FMFILL
13 <03060c183060c081> FMFILL
14 <8040201008040201> FMFILL
16 1 FMFILL
17 0.9 FMFILL
18 0.7 FMFILL
19 0.5 FMFILL
20 0.3 FMFILL
21 0.1 FMFILL
22 0.03 FMFILL
23 0 FMFILL
24 <f0e1c3870f1e3c78> FMFILL
25 <f0783c1e0f87c3e1> FMFILL
26 <3333333333333333> FMFILL
27 <0000ffff0000ffff> FMFILL
28 <7ebddbe7e7dbbd7e> FMFILL
29 <fcf9f3e7cf9f3f7e> FMFILL
30 <7fbfdfeff7fbfdfe> FMFILL
%%EndSetup
%%Page: "1" 1
%%BeginPaperSize: Letter
%%EndPaperSize
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
72 75.33 558 75.33 2 L
2 Z
N
0 10 Q
(1) 527.85 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
1 24 Q
-0.17 (TPM Production Manager) 190.9 668 S
-0.17 (Operator) 205.71 638 S
-0.17 (\325) 290.53 638 S
-0.17 (s Manual and) 297.03 638 S
72 584 558 600 C
186 585 438 585 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
1 24 Q
0 X
0 K
-0.17 (User) 252.59 608 S
-0.17 (\325) 298.11 608 S
-0.17 (s Guide) 304.61 608 S
72 535 558 551 C
234 538 390 538 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
2 12 Q
0 X
0 K
(Kirill G. Denisenko) 265.18 555 T
0 9 Q
(Computing Division / D0 Analysis) 243.33 505 T
(August 6, 1993) 278.78 483 T
72 404.98 306 407.98 C
72 407.13 306 407.13 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(1.0) 72 411.98 T
(Introduction) 99 411.98 T
1 24 Q
(T) 72 384.31 T
1 10 Q
(his manual is intended to give a technical description) 86.66 384.31 T
(of the TPM production manager running on the D0 SGI) 72 372.31 T
(farm. The TPM is a collection of the c-shell scripts and) 72 360.31 T
(executable code written in Fortran and C. A) 72 348.31 T
(wk program-) 246.5 348.31 T
-0.43 (ming language is widely used. As opposed to the \322How-T) 72 336.31 P
-0.43 (o) 298.93 336.31 P
(Operator) 72 324.31 T
(\325) 107.89 324.31 T
(s Guide T) 110.67 324.31 T
(o TPM\323 this manual requires basic) 149.39 324.31 T
(knowledge of the Unix operating system, c-shell and awk) 72 312.31 T
(language.) 72 300.31 T
(The structure of this manual is as follows: in Section) 72 276.31 T
(2.0) 285.2 276.31 T
(on page) 72 264.31 T
(3 we describe the data production model and) 105.86 264.31 T
(hardware requirements. Section) 72 252.31 T
(2.2 on page) 201.34 252.31 T
(4 also covers) 250.19 252.31 T
(the directory structure that is maintained on the local and) 72 240.31 T
(shared disks. Section) 72 228.31 T
(2.7 on page) 158.61 228.31 T
(9 gives a description of) 207.47 228.31 T
(the spooling system. Section) 72 216.31 T
(6.0 on page) 188.89 216.31 T
(18 covers the) 237.74 216.31 T
-0.28 (collection of scripts comprising the core of the TPM itself,) 72 204.31 P
-0.42 (with subsections on resource handling and job submission.) 72 192.31 P
(The project handling is explained in Section) 72 180.31 T
(4.0 on) 251.05 180.31 T
(page) 72 168.31 T
(15. Section) 93.37 168.31 T
(5.0 on page) 140.84 168.31 T
(16 describes various stages) 189.7 168.31 T
(of bookkeeping. Section) 72 156.31 T
(3.7 on page) 171.93 156.31 T
(13 depicts the com-) 220.79 156.31 T
-0.47 (munications with the D0 \336le server \050D0FS\051. Section) 72 144.31 P
-0.47 (8.0 on) 279.45 144.31 P
(page) 72 132.31 T
(18 is devoted to adapting TPM for streaming.) 93.37 132.31 T
0 12 Q
(2.0) 324 411.98 T
(Production Model And Hardware) 351 411.98 T
324 390.98 558 393.98 C
324 393.13 558 393.13 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(Requirements) 351 397.98 T
1 24 Q
(S) 324 370.31 T
1 10 Q
(ince the size of the typical D0 event is fairly lar) 337.34 370.31 T
(ge) 527.01 370.31 T
(\050~500 Kilobytes\051 and the CPU time necessary to process) 324 358.31 T
(an event is relatively small \050~18 sec\051 the requirements to) 324 346.31 T
(the I/O system are very high. There are several modes in) 324 334.31 T
(which this production system may operate. The main,) 324 322.31 T
(default, mode of operation is) 324 310.31 T
3 F
(parallel.) 441.7 310.31 T
1 F
( T) 475.85 310.31 T
(wo other modes,) 483.75 310.31 T
3 F
(stand-alone and sequential,) 324 298.31 T
1 F
( are operational and will be) 434.77 298.31 T
(also described here.) 324 286.31 T
(The \336rst model is operating in a so called) 324 262.31 T
3 F
(stand-alone) 491.95 262.31 T
1 F
(mode. It calls for each production CPU to be equipped) 324 250.31 T
-0.26 (with the local disk capable of holding the DST \336les for the) 324 238.31 P
(particular job and two tape drives. The unit job hence) 324 226.31 T
(becomes a tape. The two I/O processes, the inspooler and) 324 214.31 T
(the outspooler) 324 202.31 T
(, are running asynchronously with the pro-) 380.51 202.31 T
-0.03 (duction shell and communicate with it via the special disk) 324 190.31 P
(\336les. As soon as the input dataset is spooled and the pro-) 324 178.31 T
(duction shell \336nds it, the reconstruction code begins pro-) 324 166.31 T
-0.03 (cessing it. As soon as the reconstruction code \336nishes, the) 324 154.31 P
(output ST) 324 142.31 T
(A \336le is spooled to the output tape. The DST) 362.91 142.31 T
-0.3 (\336les are being kept on disk until the whole job \336nishes and) 324 130.31 P
(are transferred to the D0 \336le server \050D0FS\051 afterwards.) 324 118.31 T
(This mode is perfect for small special projects; it also) 324 106.31 T
FMENDPAGE
%%EndPage: "1" 2
%%Page: "2" 2
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Production Model And Hardware Requirements) 196.12 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(2) 54 59.95 T
0 9 Q
( of) 59.56 59.95 T
0 10 Q
( 19) 70.54 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
1 10 Q
(doesn\325) 54 677.33 T
(t introduce any overhead associated with serving) 80.46 677.33 T
(events over NFS or TCP/IP) 54 665.33 T
(.) 162.83 665.33 T
(The second, so called) 54 641.33 T
3 F
(sequential) 142.54 641.33 T
1 F
(, model moves from the) 183.63 641.33 T
(stand-alone node idea to I/O server and worker nodes con-) 54 629.33 T
(cept. The I/O server now is a computer that serves the) 54 617.33 T
-0.19 (devices used to spool the data in and out \050disks and tapes\051.) 54 605.33 P
(The worker nodes do all the processing and access the) 54 593.33 T
(disks via the NFS on input and through the TCP/IP proto-) 54 581.33 T
(col on output - worker nodes send the processed events) 54 569.33 T
(over the Ethernet directly to the client processes running) 54 557.33 T
(on the I/O servers which in turn store events on the local) 54 545.33 T
(disks. Amount of hardware necessary to operate in this) 54 533.33 T
(mode though smaller than in a stand-alone mode is still) 54 521.33 T
(quite lar) 54 509.33 T
(ge. Each worker node processes its own dataset) 86.85 509.33 T
(which means that the amount of the spooling space is a) 54 497.33 T
(multiple of the number of the worker nodes. In our case a) 54 485.33 T
-0.38 (system with 6 worker nodes requires at least 4 Gb of a disk) 54 473.33 P
(space.) 54 461.33 T
(The third model introduced with RECO 10.13 is a truly) 54 437.33 T
3 F
(parallel) 54 425.33 T
1 F
( way of serving events over the network. On I/O) 85.65 425.33 T
(server there are two processes for each logical machine:) 54 413.33 T
3 F
-0.17 (insrv_d0.x) 54 401.33 P
1 F
-0.17 ( that read events from the input dataset and ship) 95.92 401.33 P
(them to a worker node that processes an event and ship) 54 389.33 T
(them via TCP/IP to another server process) 54 377.33 T
3 F
(outsrv_d0.x.) 225.83 377.33 T
1 F
(See Section) 54 365.33 T
(2.3 on page) 103.41 365.33 T
(6 for more information.) 152.27 365.33 T
0 F
(2.1) 54 333.33 T
(TPM Basics.) 81 333.33 T
1 F
(Here I de\336ne the notation for the environment variables) 54 310.33 T
(that will be used in the following text:) 54 298.33 T
2 F
-0.16 ($HOME) 67.75 280.33 P
1 F
-0.16 ( environment variable is pointing to the home) 104.39 280.33 P
(directory of) 67.75 268.33 T
3 F
(\322dzer) 117.15 268.33 T
(o\323) 139.54 268.33 T
1 F
(account which can have dif) 152.6 268.33 T
(ferent) 261.77 268.33 T
(names when mounted on dif) 67.75 256.33 T
(ferent computers.) 180.82 256.33 T
2 F
($PRODIR) 67.75 241.33 T
1 F
(points to) 114.66 241.33 T
3 F
( $HOME/pr) 149.37 241.33 T
(oman) 197.02 241.33 T
1 F
( directory) 219.23 241.33 T
(.) 257.16 241.33 T
2 F
-0.18 ($FMLNODE) 67.75 226.33 P
1 F
-0.18 ( is set to the name of the logical machine) 123.82 226.33 P
(in question, for example) 67.75 214.33 T
3 F
(fnsfe_1) 167.4 214.33 T
1 F
( in case where there) 196.27 214.33 T
-0.4 (are more than one logical machine per physical CPU or) 67.75 202.33 P
3 F
(fnstfj) 67.75 190.33 T
1 F
( where logical machine is equivalent to the physi-) 87.74 190.33 T
(cal CPU.) 67.75 178.33 T
2 F
($PRODA) 67.75 163.33 T
(T) 107.53 163.33 T
1 F
( environment variable is de\336ned in a) 114.2 163.33 T
3 F
(r) 67.75 151.33 T
(esour) 71.26 151.33 T
(ce.$FMLNODE) 93.1 151.33 T
1 F
( \336le and points to the spooling) 156.67 151.33 T
-0.07 (disk directory from where the rest of tpm directories is) 67.75 139.33 P
(hanging.) 67.75 127.33 T
-0.5 (TPM production manager serves is a system that maintains) 306 677.33 P
(the production resources \050input and output tapes, tape) 306 665.33 T
(drives, disks and CPUs\051, submits jobs for processing and) 306 653.33 T
(does the bookkeeping. The unit job for TPM is a tape) 306 641.33 T
(\050each job is assigned a unique number) 306 629.33 T
(, called) 458.27 629.33 T
3 F
(queid) 489.63 629.33 T
1 F
(\051. The) 511.84 629.33 T
(unit processor is a logical machine, i.e a group of worker) 306 617.33 T
(nodes working on the same project \050see Section) 306 605.33 T
(4.0 on) 499.19 605.33 T
(page) 306 593.33 T
(15 for the de\336nition of a project\051. Each logical) 327.37 593.33 T
(machine is assigned at least one output spooler \050see) 306 581.33 T
-0.09 (Section) 306 569.33 P
-0.09 (2.7 on page) 338.48 569.33 P
-0.09 (9 for details how spooling is done\051. A) 387.17 569.33 P
(logical machine is declared via) 306 557.33 T
3 F
(r) 432.29 557.33 T
(esour) 435.81 557.33 T
(ce) 457.65 557.33 T
1 F
( and) 466.52 557.33 T
3 F
(r) 485.95 557.33 T
(esour) 489.47 557.33 T
(ce.LM) 511.31 557.33 T
1 F
(parameter \336les \050see Section) 306 545.33 T
(2.3.4 on page) 418.69 545.33 T
(6 for details) 475.04 545.33 T
-0.15 (about these parameter \336les\051. Input tapes are obtained from) 306 533.33 P
(D0FS databases using) 306 521.33 T
3 F
($PRODIR/exe/get_new_jobs) 396.78 521.33 T
1 F
(script. They are entered into) 306 509.33 T
3 F
($PRODIR/r) 423.4 509.33 T
(esour) 470.78 509.33 T
(ces/injobs) 492.62 509.33 T
1 F
(\050see the following Section) 306 497.33 T
(2.2 on page) 413.15 497.33 T
(4 for the de\336nition) 462 497.33 T
(of the environment variables used; environment variables) 306 485.33 T
(are denoted by a leading $\051. Each input tape is assigned a) 306 473.33 T
(project from a pool of available projects according to the) 306 461.33 T
(\336rst three letters of the \336lenames on tapes by) 306 449.33 T
3 F
($PRODIR/exe/get_new_jobs) 306 437.33 T
1 F
(. In the) 420.92 437.33 T
3 F
($PRODIR/r) 306 425.33 T
(esour) 353.37 425.33 T
(ces/r) 375.21 425.33 T
(esour) 394.27 425.33 T
(ce) 416.11 425.33 T
1 F
( a logical machine is) 424.98 425.33 T
(assigned a project and an input spooler number) 306 413.33 T
(. When the) 493.93 413.33 T
(current job processing on a particular logical machine \336n-) 306 401.33 T
(ishes the TPM production manager will look for a tape) 306 389.33 T
(with a project matching one assigned to this logical) 306 377.33 T
-0.09 (machine in) 306 365.33 P
-0.09 ($PRODIR/resources/injobs. The tapes waiting) 352.44 365.33 P
(to be processed are denoted by) 306 353.33 T
2 F
(W) 431.45 353.33 T
(AITING) 440.34 353.33 T
1 F
(status in this) 479.48 353.33 T
(\336le. If such tape exists it will be submitted for execution.) 306 341.33 T
(A script) 306 329.33 T
3 F
($PRODIR/exe/jobcontr) 340.42 329.33 T
(ol.csh) 433.87 329.33 T
1 F
( is running every) 457.47 329.33 T
(day on the NFS-disk server \050currently) 306 317.33 T
3 F
(fnsfg) 459.77 317.33 T
1 F
(\051 and picks up) 479.21 317.33 T
(datasets missing from the already processed tapes. T) 306 305.33 T
(apes) 515.15 305.33 T
(that re-submitted are denoted by the word) 306 293.33 T
2 F
(REPROCESSING) 306 281.33 T
1 F
( in the injobs \336le. Per each resubmit-) 384.86 281.33 T
(ting one) 306 269.33 T
2 F
(REPROCESSING) 340.98 269.33 T
1 F
( would appear) 419.84 269.33 T
(.) 475.91 269.33 T
0 F
(2.2) 306 237.33 T
(Disks Directory Structure.) 333 237.33 T
0 9 Q
(2.2.1) 306 215 T
(Database-like directories.) 333 215 T
1 10 Q
(First I introduce the underlying structure of the many) 306 190.33 T
(directories that contain the log \336les for the TPM produc-) 306 178.33 T
(tion manager) 306 166.33 T
(. A good example of these would be the) 357.91 166.33 T
3 F
($PRODIR/logdb) 306 154.33 T
1 F
( directory which contains the log \336le for) 372.62 154.33 T
-0.19 (the I/O servers and reconstruction shells \050the contents of it) 306 142.33 P
-0.16 (will be discussed elsewhere in this document\051. Since Unix) 306 130.33 P
(operating system cannot ef) 306 118.33 T
(\336ciently handle the directories) 413.24 118.33 T
(with more than 200 - 300 \336les in them TPM stores these) 306 106.33 T
(\336les according to the time when they were produced.) 306 94.33 T
FMENDPAGE
%%EndPage: "2" 3
%%Page: "3" 3
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Production Model And Hardware Requirements) 214.12 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(3) 527.85 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
1 F
(There is a subdirectory corresponding to a year \0504 digits\051,) 72 677.33 T
-0.39 (month \050three starting lowercase letters\051, and a 6 day period) 72 665.33 P
(within a month \0501-6, 7-12, 13-18, 19-24, 25-31\051. Thus for) 72 653.33 T
-0.15 (a \336le produced on May 14, 1993 the log \336les can be found) 72 641.33 P
(in a subdirectory) 72 629.33 T
3 F
($PRODIR/logdb/1993/may/13-18) 141.67 629.33 T
1 F
(. The) 276.59 629.33 T
-0.17 (rest of the database-like directories have the same underly-) 72 617.33 P
(ing subdirectories.) 72 605.33 T
0 9 Q
(2.2.2) 72 582 T
(Disk structure of the local spooling disk.) 99 582 T
1 10 Q
(The local to the production node disk should have the fol-) 72 557.33 T
(lowing directory structure:) 72 545.33 T
4 11 Q
(\245) 72 509.33 T
2 10 Q
($PRODA) 85.75 509.33 T
(T/$FMLNODE/inspool) 125.53 509.33 T
1 F
( is the area where) 224.39 509.33 T
-0.24 (the inspooler process will spool the raw data in the) 85.75 497.33 P
3 F
-0.24 (par-) 288.79 497.33 P
(allel) 85.75 485.33 T
1 F
(mode.) 106.01 485.33 T
4 11 Q
(\245) 72 470.33 T
2 10 Q
($PRODA) 85.75 470.33 T
(T/$FMLNODE/raw) 125.53 470.33 T
1 F
( is the area where the) 210.49 470.33 T
(raw data is being placed for processing.) 85.75 458.33 T
4 11 Q
(\245) 72 443.33 T
2 10 Q
($PRODA) 85.75 443.33 T
(T/$FMLNODE/pr) 125.53 443.33 T
(oman/dst) 203.65 443.33 T
1 F
( is the area) 243.08 443.33 T
(where the DST \336les are kept before transferring to the) 85.75 431.33 T
(D0FS.) 85.75 419.33 T
4 11 Q
(\245) 72 404.33 T
2 10 Q
($PRODA) 85.75 404.33 T
(T/$FMLNODE/pr) 125.53 404.33 T
(oman/sta) 203.65 404.33 T
1 F
( is the area) 242.52 404.33 T
(where the ST) 85.75 392.33 T
(A output goes before spooling to the out-) 138.24 392.33 T
(put tape.) 85.75 380.33 T
4 11 Q
(\245) 72 365.33 T
2 10 Q
($PRODA) 85.75 365.33 T
(T/$FMLNODE/pr) 125.53 365.33 T
(oman/ linktemps) 203.65 365.33 T
1 F
(is the) 277.51 365.33 T
(area where the temporary links to the DST) 85.75 353.33 T
(s are stored) 255.19 353.33 T
(when zftp\325ing them to the D0FS.) 85.75 341.33 T
(All these directories are being cleaned by the production) 72 317.33 T
(manager before starting a new job.) 72 305.33 T
(The server node \050currently fnsfg\051 also has disks shared) 72 281.33 T
(with the rest of the production nodes. These are:) 72 269.33 T
0 9 Q
(2.2.3) 72 246 T
(TPM Code and Bookkeeping Disk) 99 246 T
3 10 Q
(\322$HOME\323) 72 221.33 T
1 F
( disk contains all the production manager soft-) 116.97 221.33 T
(ware, all bookkeeping software and \336les, and all the log) 72 209.33 T
(\336les. This disk is NFS-mounted on the rest of the produc-) 72 197.33 T
(tion nodes.) 72 185.33 T
4 11 Q
(\245) 72 167.33 T
2 10 Q
-0.12 ($HOME) 85.75 167.33 P
1 F
-0.12 (home directory contains .netrc \336le which has) 124.77 167.33 P
(a login information necessary to transfer \336les to the) 85.75 155.33 T
(D0FS \050D0FS account DZERO is used, pass-) 85.75 143.33 T
(word.........\051. It also contains .rhosts \336le that should) 85.75 131.33 T
(have all the authentication info for the worker nodes.) 85.75 119.33 T
4 11 Q
(\245) 324 677.33 T
2 10 Q
($HOME/pr) 337.74 677.33 T
(oman/exe) 386.99 677.33 T
1 F
( is the directory where the exe-) 427.52 677.33 T
(cutables and scripts can be found \050in alphabetical) 337.74 665.33 T
(order\051:) 337.74 653.33 T
3 F
(after_crash) 337.74 638.33 T
1 F
(Restarts the TPM system after the reboot.) 386.33 638.33 T
(Also restarts the dbl3 servers and picks up all failed) 337.74 626.33 T
(network transfers and bookkeeping processes.) 337.74 614.33 T
3 F
(analyze_list.nawk) 337.74 599.33 T
1 F
( Part of the package of scripts for) 409.1 599.33 T
(updating an input queue.) 337.74 587.33 T
3 F
(analyze_pr) 337.74 572.33 T
(oject.nawk) 381.79 572.33 T
1 F
( Same as above.) 424.82 572.33 T
3 F
(append.x) 337.75 557.33 T
1 F
( Allows you to append to a \336le that may be) 374.11 557.33 T
-0.27 (shared between dif) 337.75 545.33 P
-0.27 (ferent processes without a danger of) 412.52 545.33 P
(overwriting.) 337.75 533.33 T
3 F
(check_buffer) 337.74 518.33 T
(.csh) 388.26 518.33 T
1 F
(Checks that the D0$DA) 406.58 518.33 T
(T) 501.23 518.33 T
(A$BUFER) 506.54 518.33 T
(has enough disk space to accept the incoming DST) 337.74 506.33 T
(\336les.) 337.74 494.33 T
3 F
(check_disk_space) 337.74 479.33 T
1 F
( Used in) 409.35 479.33 T
3 F
(sequential) 447.65 479.33 T
1 F
(mode to avoid) 491.24 479.33 T
(the disk space over\337ow) 337.74 467.33 T
(.) 431.19 467.33 T
3 F
-0.26 (check_invol.csh) 337.74 452.33 P
1 F
-0.26 ( Checks that the input tape is not in use) 401.3 452.33 P
(on D0FS. See Section) 337.74 440.33 T
(3.7 on page) 427.98 440.33 T
(13.) 476.83 440.33 T
3 F
(cli_d0.x) 337.74 425.33 T
1 F
( Client executable which is used in sequential) 369.67 425.33 T
(mode to receive events from the worker nodes and) 337.74 413.33 T
(store them on disk.) 337.74 401.33 T
3 F
-0.16 (copy_r) 337.74 386.33 P
-0.16 (esults.csh) 365.13 386.33 P
1 F
-0.16 ( A top level script to copy the DST) 403.72 386.33 P
-0.16 (s to) 541.66 386.33 P
(D0FS and create and copy RCP-\336les to D0FS.) 337.74 374.33 T
3 F
(full_d0r) 337.74 359.33 T
(eco_V_P) 369.59 359.33 T
(.x) 404.38 359.33 T
1 F
( D0RECO reconstruction program.) 411.31 359.33 T
(Here V stands for its version, and P - for the pass) 337.74 347.33 T
(release.) 337.74 335.33 T
3 F
(inspool_l.x) 337.74 320.33 T
1 F
( Input tape spooler executable.) 381.89 320.33 T
3 F
(insrv_d0.x) 337.74 305.33 T
1 F
( Input parallel server executable) 379.66 305.33 T
3 F
(jobcontr) 337.74 290.33 T
(ol.csh) 371.25 290.33 T
1 F
(Recovers the datasets that were lost the) 397.34 290.33 T
(\336rst time and resubmits them for reprocessing.) 337.74 278.33 T
3 F
(outspool_mu.x) 337.74 263.33 T
1 F
( Output tape spooler executable.) 396.32 263.33 T
3 F
(outsrv_d0.x) 337.74 248.33 T
1 F
( Output parallel server executable.) 384.66 248.33 T
3 F
(pick_up_all) 337.74 233.33 T
1 F
( Checks for any failed network transfers) 384.94 233.33 T
(and bookkeeping processes on all TPM-related I/O) 337.74 221.33 T
(servers and restarts them.) 337.74 209.33 T
3 F
(pick_up_trans) 337.74 194.33 T
1 F
( Checks for any failed network transfers) 394.93 194.33 T
(and bookkeeping processes on a CPU-node it is) 337.74 182.33 T
(invoked and restarts them. Called from) 337.74 170.33 T
3 F
(pick_up_all.) 496.25 170.33 T
(prl_check.csh) 337.74 155.33 T
1 F
( A script that periodically checks the sta-) 392.97 155.33 T
-0.46 (tus of the worker node) 337.74 143.33 P
3 F
-0.46 (wrkshell) 427.87 143.33 P
1 F
-0.46 (\325) 461.74 143.33 P
-0.46 (s and resubmits them if) 464.52 143.33 P
(necessary) 337.74 131.33 T
(.) 375.94 131.33 T
3 F
(uptest) 337.74 116.33 T
1 F
(Executable that tests the network connection) 364.12 116.33 T
(between D0 Unix farm nodes and D0FS. It also per-) 337.74 104.33 T
FMENDPAGE
%%EndPage: "3" 4
%%Page: "4" 4
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Production Model And Hardware Requirements) 196.12 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(4) 54 59.95 T
0 9 Q
( of) 59.56 59.95 T
0 10 Q
( 19) 70.54 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
1 10 Q
(forms writability tests of the involved areas on D0FS) 67.75 677.33 T
(\050D0$DA) 67.75 665.33 T
(T) 101.61 665.33 T
(A$BUFFER, FMD0:[RCPF) 106.91 665.33 T
(ARMIN], and) 218.36 665.33 T
(PROD_DB:[SGIDA) 67.75 653.33 T
(T) 148.81 653.33 T
(A]\051.) 154.12 653.33 T
3 F
(zftp) 67.75 638.33 T
1 F
( Custom copy of the CERN utility) 82.19 638.33 T
(.) 218.14 638.33 T
0 9 Q
(2.2.4) 54 615 T
(DBL3 Database disk \050 /dbl3 \051) 81 615 T
1 10 Q
( \322/dbl3\323 disk contains the DBL3 databases and the DBL3) 54 590.33 T
(server code. This disk is NFS-mounted on all of the pro-) 54 578.33 T
-0.33 (duction nodes and on the local D0 SGI computers. The top) 54 566.33 P
(level directory contains dbl3 server executable,) 54 554.33 T
3 F
(d0dbl3_server) 54 542.33 T
(.exe) 110.63 542.33 T
1 F
(, and scripts to start adbl3 servers,) 126.44 542.33 T
3 F
(start_all_servers,) 54 530.33 T
1 F
(and shut them down,) 126.74 530.33 T
3 F
(kill_all_servers.) 212.52 530.33 T
(who_is_running) 54 518.33 T
1 F
(script \050aliased to) 121.47 518.33 T
3 F
(showdb) 190.04 518.33 T
1 F
(\051 is used to dis-) 220.58 518.33 T
(play a current status of dbl3 servers. The disk is further) 54 506.33 T
(partitioned per detector) 54 494.33 T
(.) 146.71 494.33 T
(/dbl3/cal) 67.75 476.33 T
(/dbl3/dbm) 67.75 461.33 T
(/dbl3/cdc) 67.75 446.33 T
(/dbl3/fdc) 67.75 431.33 T
(/dbl3/muo) 67.75 416.33 T
(/dbl3/sam) 67.75 401.33 T
(/dbl3/trd) 67.75 386.33 T
(/dbl3/vtx) 67.75 371.33 T
(The database for each detector can be found here. File) 54 347.33 T
3 F
(DET_DBFILES.DA) 54 335.33 T
(T) 132.75 335.33 T
1 F
(de\336nes the run validity ranges. In) 140.8 335.33 T
-0.04 (addition to this these subdirectories are further partitioned) 54 323.33 P
(into two subdirectories:) 54 311.33 T
3 F
( server) 148.39 311.33 T
1 F
( and) 175.86 311.33 T
3 F
(todo) 195.29 311.33 T
1 F
(.) 213.06 311.33 T
3 F
(server) 218.06 311.33 T
1 F
( contains) 243.04 311.33 T
-0.14 (the dbl3 server setup \336les and server log \336le, while) 54 299.33 P
3 F
-0.14 (todo) 258.85 299.33 P
1 F
-0.14 ( is) 276.62 299.33 P
(used to receive the database update \336les from D0FS.) 54 287.33 T
0 9 Q
(2.2.5) 54 264 T
(Summaries And Histograms Disk \050/proman\051) 81 264 T
1 10 Q
-0.32 ( Disk \322) 54 239.33 P
3 F
-0.32 (/pr) 81.68 239.33 P
-0.32 (oman) 92.98 239.33 P
1 F
-0.32 (\323 is currently used for the storage of the D0) 115.18 239.33 P
(reconstruction code \050D0RECO\051 summary \336les) 54 227.33 T
(\050) 54 215.33 T
3 F
(/pr) 57.33 215.33 T
(oman/sumdb) 68.62 215.33 T
1 F
(\051 and \336les containing histograms) 119.7 215.33 T
(\050) 54 203.33 T
3 F
(/pr) 57.33 203.33 T
(oman/hstdb) 68.62 203.33 T
1 F
(\051 produced by the D0RECO program. Cur-) 115.27 203.33 T
(rently they are mer) 54 191.33 T
(ged per run. Both of them has the data-) 129.59 191.33 T
(base underlying structure as described at the beginning of) 54 179.33 T
(this Section) 54 167.33 T
(2.2 on page) 103.42 167.33 T
(4. See Section) 152.28 167.33 T
(5.2 on page) 211.68 167.33 T
(17 for) 260.54 167.33 T
(details.) 54 155.33 T
0 F
(2.3) 306 677.33 T
(How a Parallel Shell Is Organized) 333 677.33 T
1 F
(This section describes a) 306 654.33 T
3 F
(parallel) 403.71 654.33 T
1 F
(shell \050which is now the) 437.86 654.33 T
(default mode of operations on a D0 Unix Farm\051) 306 642.33 T
(Files involved are described in subsequent subsections.) 306 618.33 T
0 9 Q
(2.3.1) 306 595 T
(d0reco_prl.csh) 333 595 T
1 10 Q
-0.47 (in) 306 582.33 P
3 F
-0.47 ($PRODIR/pr) 315.81 582.33 P
-0.47 (oman/tpm) 368.18 582.33 P
1 F
-0.47 (. It is the shell that is running one) 408.16 582.33 P
(per logical machine on I/O servers \050currently) 306 570.33 T
3 F
(fnsfe_0) 488.35 570.33 T
1 F
(,) 517.22 570.33 T
3 F
-0.34 (fnsfe_1, fnsfe_2) 306 558.33 P
1 F
-0.34 (, and) 368.41 558.33 P
3 F
-0.34 (fnstfj) 389.67 558.33 P
1 F
-0.34 (\051. It is submitted the regular way) 409.67 558.33 P
(by the TPM production manager) 306 546.33 T
(. It handles the submis-) 435.92 546.33 T
(sion and control of the I/O server executables) 306 534.33 T
3 F
(insrv_d0.x) 490.3 534.33 T
1 F
(and) 306 522.33 T
3 F
(outsrv_d0.x) 322.93 522.33 T
1 F
( and moving around raw and processed) 369.85 522.33 T
(\336les.) 306 510.33 T
0 9 Q
(2.3.2) 306 487 T
(wrkshell) 333 487 T
1 10 Q
-0.47 (in) 306 474.33 P
3 F
-0.47 ($PRODIR/pr) 315.81 474.33 P
-0.47 (oman/tpm) 368.18 474.33 P
1 F
-0.47 (. It is a shell script that is running) 408.16 474.33 P
(all the time on all worker nodes and submits) 306 462.33 T
3 F
(d0r) 485.61 462.33 T
(eco.x) 499.12 462.33 T
1 F
( exe-) 519.93 462.33 T
(cutable when it sees that an appropriate in- and output) 306 450.33 T
-0.09 (servers are running on the I/O server) 306 438.33 P
-0.09 (. There is a script that) 451.44 438.33 P
(runs 15 minutes past every hour) 306 426.33 T
(,) 433.57 426.33 T
3 F
($PRODIR/exe/prl_check.csh) 306 414.33 T
1 F
(, that checks the status of the) 421.18 414.33 T
(wrkshell on each of the worker nodes belonging to a I/O) 306 402.33 T
(server declared parallel.) 306 390.33 T
(If due to whatever reason you will need to stop all wrk-) 306 366.33 T
-0.15 (shell\325) 306 354.33 P
-0.15 (s for a particular logical machine you can place a \336le) 327.66 354.33 P
3 F
(stop_it) 306 342.33 T
1 F
(\050contents of which are irrelevant\051 into) 335.71 342.33 T
3 F
($PRODA) 306 330.33 T
(T/$FMLNODE/pr) 343.38 330.33 T
(oject) 415.2 330.33 T
1 F
( area. Please note that the) 434.63 330.33 T
0 (wrkshell will not exit until the) 306 318.33 P
3 F
0 ( insrv_d0.x) 426.76 318.33 P
1 F
0 (and) 473.66 318.33 P
3 F
0 (outsrv_d0.x) 490.59 318.33 P
1 F
(servers are running for the logical machine in question.) 306 306.33 T
0 9 Q
(2.3.3) 306 283 T
(Executables insrv_d0.x and outsrv_d0.x) 333 283 T
1 10 Q
(reside in) 306 258.33 T
3 F
($PRODIR/exe) 342.64 258.33 T
1 F
(. The source code of them can be) 399.81 258.33 T
(found in) 306 246.33 T
3 F
($PRODIR/sour) 342.09 246.33 T
(ce) 403.35 246.33 T
1 F
(. Y) 412.22 246.33 T
(ou cannot link on) 423.43 246.33 T
3 F
(fnsfe) 495.62 246.33 T
1 F
( so it) 514.49 246.33 T
(is provided for reference only) 306 234.33 T
(.) 424.14 234.33 T
0 9 Q
(2.3.4) 306 211 T
(Parameter \336les.) 333 211 T
1 10 Q
-0.03 (T) 306 186.33 P
-0.03 (o declare server to be parallel you set MODE to P) 311.41 186.33 P
-0.03 (ARAL-) 509.47 186.33 P
(LEL in a \336le) 306 174.33 T
3 F
($PRODIR/r) 359.3 174.33 T
(esour) 406.67 174.33 T
(ces/r) 428.51 174.33 T
(esour) 447.57 174.33 T
(ce.$server) 469.41 174.33 T
1 F
(, e.g.) 510.36 174.33 T
3 F
(r) 306 162.33 T
(esour) 309.52 162.33 T
(ce.fnsfe_3) 331.36 162.33 T
1 F
( reads) 371.6 162.33 T
(PRODA) 319.74 144.33 T
(T_DIRECT) 352.51 144.33 T
(OR) 399.52 144.33 T
(Y /spool02/dzero) 412.85 144.33 T
(MODE P) 319.74 129.33 T
(ARALLEL) 356.3 129.33 T
(fnsf128 READY) 319.74 114.33 T
(fnsf129 READY) 319.74 99.33 T
FMENDPAGE
%%EndPage: "4" 5
%%Page: "5" 5
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Production Model And Hardware Requirements) 214.12 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(5) 527.85 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
1 F
(fnsf130 READY) 85.75 677.33 T
(fnsf131 READY) 85.75 662.33 T
(fnsf132 READY) 85.75 647.33 T
(fnsf133 READY) 85.75 632.33 T
(fnsf134 READY) 85.75 617.33 T
(fnsf135 READY) 85.75 602.33 T
-0.21 (If you want to take out a particular worker node change its) 72 578.33 P
(status from READY to UNA) 72 566.33 T
(V) 186.75 566.33 T
(AILABLE.) 192.67 566.33 T
(All the standard parameter \336les \050resource, etc.\051 apply to a) 72 542.33 T
(parallel mode.) 72 530.33 T
0 9 Q
(2.3.5) 72 507 T
(d0reco_rcp for a parallel shell) 99 507 T
1 10 Q
-0.41 (In order for the D0RECO executable to recognize its mode) 72 482.33 P
(of operation as parallel it is necessary to include the fol-) 72 470.33 T
(lowing line into the) 72 458.33 T
3 F
(d0r) 152.52 458.33 T
(eco.r) 166.03 458.33 T
(cp) 185.92 458.33 T
1 F
( \336le:) 195.35 458.33 T
( P) 72 434.33 T
(ARALLEL .TRUE. ! use network to serve events) 79.14 434.33 T
-0.11 (The location of the) 72 410.33 P
3 F
-0.11 (d0r) 149.84 410.33 P
-0.11 (eco.r) 163.35 410.33 P
-0.11 (cp) 183.24 410.33 P
1 F
-0.11 ( \336le is de\336ned in the project) 192.67 410.33 P
(description \336le. See Section) 72 398.33 T
(4.0 on page) 186.1 398.33 T
(15.) 234.95 398.33 T
0 9 Q
(2.3.6) 72 375 T
(remote_rcp for a parallel shell) 99 375 T
1 10 Q
-0.26 (A \336le) 72 350.33 P
3 F
-0.26 (r) 96.47 350.33 P
-0.26 (emote.r) 99.98 350.33 P
-0.26 (cp) 129.87 350.33 P
1 F
-0.26 ( is used by both D0RECO executable and) 139.3 350.33 P
(parallel servers executables. It contains the TCP/IP port) 72 338.33 T
(de\336nitions. Its proper place is in the) 72 326.33 T
3 F
(pr) 218.02 326.33 T
(oject) 226.54 326.33 T
1 F
(area on the) 248.46 326.33 T
(spooling disk,) 72 314.33 T
3 F
($PRODA) 130.59 314.33 T
(T/$FMLNODE/pr) 167.97 314.33 T
(oject) 239.79 314.33 T
1 F
(.) 259.22 314.33 T
0 F
(2.4) 72 282.33 T
(Diagnostics of a parallel shell behavior) 99 282.33 T
(.) 283.42 282.33 T
0 9 Q
(2.4.1) 72 260 T
(Symptoms.) 99 260 T
1 10 Q
(Please not less often than 3-4 times a shift check the area) 72 235.33 T
3 F
($PRODA) 72 223.33 T
(T/$server/pr) 109.38 223.33 T
(oman/sta) 158.98 223.33 T
1 F
(. This area normally looks) 195.63 223.33 T
(like following:) 72 211.33 T
(fnsfe/spool02/dzero/fnsfe_3% ls -l proman/sta) 85.75 193.33 T
(total 586547) 85.75 178.33 T
( -rw-r) 85.75 163.33 T
(--r) 108.57 163.33 T
(-- 1 dzero d0 120 Apr 20 14:00) 118.36 163.33 T
(4795_014_063797_52.ous) 85.75 151.33 T
( -rw-r) 85.75 136.33 T
(--r) 108.57 136.33 T
(-- 1 dzero d0 165012120 Apr 20 14:00) 118.36 136.33 T
(4795_014_063797_52.sta) 85.75 124.33 T
( -rw-r) 85.75 109.33 T
(--r) 108.57 109.33 T
(-- 1 dzero d0 135298800 Apr 20 14:13) 118.36 109.33 T
(4795_015_063797_53.sta) 85.75 97.33 T
(Here please notice the timestamp on a \336le that doesn\325) 324 677.33 T
(t) 537.83 677.33 T
-0.2 (have a corresponding) 324 665.33 P
3 F
-0.2 (*.ous) 411.38 665.33 P
1 F
-0.2 (\336le. Repeat it in 10-30 sec and) 435.05 665.33 P
(then make sure that this \336le grows in size and the time) 324 653.33 T
(stamp is updated. This is enough of an indication that) 324 641.33 T
(everything is \336ne with a particular logical machine.) 324 629.33 T
(If there is nothing in this area check that the input tape) 324 605.33 T
(spooler is running and there are \336les in) 324 593.33 T
3 F
-0.21 ($PRODA) 324 581.33 P
-0.21 (T/$server/inspool) 361.38 581.33 P
1 F
-0.21 ( and $) 431.9 581.33 P
3 F
-0.21 (PRODA) 455.9 581.33 P
-0.21 (T/$server/raw) 488.28 581.33 P
1 F
-0.21 (. If) 544.27 581.33 P
-0.42 (there are \336les paired with) 324 569.33 P
3 F
-0.42 (*.done) 426 569.33 P
1 F
-0.42 ( \336les in either one of these) 452.93 569.33 P
(directories then make sure that) 324 557.33 T
3 F
(d0r) 449.18 557.33 T
(eco_prl_$server) 462.69 557.33 T
1 F
( is run-) 528.2 557.33 T
(ning. If it is, you need to restart the server) 324 545.33 T
(.) 490.83 545.33 T
(I want to notice that normally you won\325) 324 521.33 T
(t have to do it; a) 482.88 521.33 T
(mail message) 324 509.33 T
3 F
(\322Parallel servers on $FMLNODE will be) 380.63 509.33 T
(r) 324 497.33 T
(estarted\323) 327.52 497.33 T
1 F
( is an indication that the server took care about) 365.28 497.33 T
(itself.) 324 485.33 T
(If you see some \336les in) 324 461.33 T
3 F
($PRODA) 418.94 461.33 T
(T/$server/pr) 456.32 461.33 T
(oman/sta) 505.92 461.33 T
1 F
(area but they are stale \050the \336le without) 324 449.33 T
3 F
(*.ous) 479.99 449.33 T
1 F
(is not grow-) 503.87 449.33 T
(ing or there is no such \336le\051 proceed checking as described) 324 437.33 T
(above.) 324 425.33 T
0 F
(2.5) 324 393.33 T
(How to restart a parallel server) 351 393.33 T
(.) 496.54 393.33 T
1 F
-0.16 (1. Make the I/O server UNA) 324 370.33 P
-0.16 (V) 436.28 370.33 P
-0.16 (AILABLE in a resource \336le.) 442.2 370.33 P
(Y) 324 358.33 T
(ou have to be on fnsfe and make sure that sleep 800 is) 330.22 358.33 T
(showing) 324 346.33 T
(2. rlogin into the machine in question.) 324 322.33 T
(3. Kill the) 324 298.33 T
3 F
(d0r) 366.76 298.33 T
(eco_prl_$server) 380.27 298.33 T
1 F
( prl shell if it is running.) 445.77 298.33 T
(That is all you need do to. Logout back to fnsfe and) 324 274.33 T
(declare a logical machine F) 324 262.33 T
(ARMLET back from) 433.17 262.33 T
(UNA) 324 250.33 T
(V) 344.36 250.33 T
(AILABLE. In a little while check the) 350.29 250.33 T
3 F
($PRODA) 324 238.33 T
(T/$server/pr) 361.38 238.33 T
(oman/sta) 410.98 238.33 T
1 F
( area again.) 447.63 238.33 T
(!! I want to underline that it is very unlikely that you\325ll) 324 214.33 T
(have to do it. Please make sure that it is warranted!!) 324 202.33 T
0 F
(2.6) 324 170.33 T
(What is the meaning of all these *.ios and) 351 170.33 T
(*.ous \336les) 351 159.33 T
0 9 Q
(2.6.1) 324 137 T
(*.ios) 351 137 T
1 10 Q
(When a parallel shell sees a \336le in an) 324 112.33 T
3 F
($PRODA) 324 100.33 T
(T/$server/inspool) 361.38 100.33 T
1 F
(area it moves it into the) 434.4 100.33 T
FMENDPAGE
%%EndPage: "5" 6
%%Page: "6" 6
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Production Model And Hardware Requirements) 196.12 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(6) 54 59.95 T
0 9 Q
( of) 59.56 59.95 T
0 10 Q
( 19) 70.54 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
3 10 Q
($PRODA) 54 677.33 T
(T/$server/raw) 91.38 677.33 T
1 F
( area and starts input and output) 148.02 677.33 T
-0.22 (server for it. When the input server gets a connection from) 54 665.33 P
(the worker nodes it starts to look for a \336le already pre-) 54 653.33 T
(pared for it by a parallel shell. The \336le that contains the) 54 641.33 T
(name of the \336le to be processed is pointed at by an envi-) 54 629.33 T
-0.38 (ronmental variable) 54 617.33 P
2 F
-0.38 (INLIST) 130.96 617.33 P
1 F
-0.38 (. An input server then creates a) 164.1 617.33 P
(\336le with extension) 54 605.33 T
3 F
(*.ios) 130.35 605.33 T
1 F
( that contains the name of the \336le) 149.51 605.33 T
(being process by a server) 54 593.33 T
(. There may be several such \336les) 154.48 593.33 T
(\050but no more than 3\051 at any particular moment, especially) 54 581.33 T
-0.05 (when the run number is switched and a new group of serv-) 54 569.33 P
(ers is started. The format of the \336le is) 54 557.33 T
3 F
(QUEID_SFNO_-) 206.12 557.33 T
(RUN_P) 54 545.33 T
(ART) 83.8 545.33 T
(.ios) 100.83 545.33 T
1 F
(, e.g.) 115 545.33 T
3 F
(4821_002_063824_22.ios) 136.92 545.33 T
1 F
(. Here) 241.04 545.33 T
(QUEID is the regular tpm queue id no \050unique for each) 54 533.33 T
(input tape\051, SFNO is a \336le number for the current server) 54 521.33 T
(\050the sequential number if these \336le in the stream of \336les) 54 509.33 T
(processed by this particular copy of the server\051, RUN and) 54 497.33 T
(P) 54 485.33 T
(AR) 58.64 485.33 T
(T are self-explanatory) 71.92 485.33 T
(. The dst and sta \336les are ini-) 159.52 485.33 T
(tially indexed the same way with extensions.dst and.sta) 54 473.33 T
(correspondingly) 54 461.33 T
(. They are renamed according to a stan-) 118.31 461.33 T
(dard Dzero convention when the) 54 449.33 T
3 F
(*.ous) 186.95 449.33 T
1 F
( \336le appears in) 208.32 449.33 T
2 F
(sta) 269.39 449.33 T
1 F
(directory) 54 437.33 T
(.) 89.43 437.33 T
0 9 Q
(2.6.2) 54 414 T
(*.ous) 81 414 T
1 10 Q
(A \336le with) 54 389.33 T
3 F
(*.ous) 99.25 389.33 T
1 F
( extension \336le indicates that processing) 120.63 389.33 T
(for a particular dataset is \336nished and the \336le is closed.) 54 377.33 T
3 F
(*.ous) 54 365.33 T
1 F
( \336le contains information about the starting and end-) 75.38 365.33 T
(ing event number and number of lost events \050if any\051. This) 54 353.33 T
(\336le is used to create RCP \336le and deleted afterwards) 54 341.33 T
(together with raw data \336le and) 54 329.33 T
3 F
(*.ios) 178.35 329.33 T
1 F
( \336le.) 197.51 329.33 T
(Format of) 54 305.33 T
3 F
(*.ous) 96.2 305.33 T
1 F
( \336le is as follows:) 117.57 305.33 T
( N_T) 67.75 287.33 T
(OT_EVENT 231) 88.38 287.33 T
( N_MIN_EVENT 4853) 67.75 272.33 T
( N_MAX_EVENT 5083) 67.75 257.33 T
( N_MISS_EVENT 0) 67.75 242.33 T
( L_MISS_EVENT) 67.75 227.33 T
0 F
(2.7) 306 677.33 T
(Overview of spooling as it is done on D0) 333 677.33 T
(Unix Farms) 333 666.33 T
1 F
(The spooling \050copying input \336les from tape to disk and) 306 643.33 T
(copying output \336les from disk to tape\051 is completely asyn-) 306 631.33 T
(chronous with data processing. New \336les are copied into) 306 619.33 T
(the designated inspool areas when there no previous \336les) 306 607.33 T
(with *.done extension there. Output \336les are copied when) 306 595.33 T
3 F
(*.done) 306 583.33 T
1 F
(\336les appears in the outspool area. Both input and) 335.42 583.33 T
(output spoolers are started by) 306 571.33 T
3 F
(\322start_farmlet_job\323) 426.19 571.33 T
1 F
( script) 507.28 571.33 T
(which in turn is called by) 306 559.33 T
3 F
(\322update_farmlet_job\323) 409.82 559.33 T
1 F
( script.) 499.78 559.33 T
0 9 Q
(2.7.1) 306 536 T
(Input spooling.) 333 536 T
1 10 Q
(An input spooling is a process of reading the input tape) 306 511.33 T
(and writing the resulting \336les into the speci\336ed area. The) 306 499.33 T
(spoolers use FNAL supported RBIO package \050v6_2e cur-) 306 487.33 T
(rently\051 to do basic I/O operations on tape and disk. T) 306 475.33 T
(ape) 516.54 475.33 T
(mount requests are supported by FNAL CPS package.) 306 463.33 T
0 9 Q
(2.7.2) 306 440 T
(Assignment of the input spoolers.) 333 440 T
1 10 Q
(Y) 306 415.33 T
(ou can assign any number of spoolers to serve any num-) 312.22 415.33 T
(ber of spooling areas. Thus you can request one input) 306 403.33 T
(spooler to serve several logical machines or) 306 391.33 T
(, alternatively) 480.46 391.33 T
(,) 534.77 391.33 T
(several input spoolers to serve one logical machine. The) 306 379.33 T
(most common setup though is when one input spooler is) 306 367.33 T
(serving one logical machine.) 306 355.33 T
(The actual assignment happens in the) 306 331.33 T
3 F
($PRODIR/r) 306 319.33 T
(esour) 353.37 319.33 T
(ces/r) 375.21 319.33 T
(esour) 394.27 319.33 T
(ce) 416.11 319.33 T
1 F
( \336le where you specify the) 424.98 319.33 T
(input spooler number in the fourth column. This number) 306 307.33 T
(can be the same for any number of logical machines \050run-) 306 295.33 T
(ning on the same physical machine, of course\051 in which) 306 283.33 T
(case they will all be served by the same server) 306 271.33 T
(. An exam-) 490.58 271.33 T
(ple follows:) 306 259.33 T
-0.49 (NODE) 319.74 241.33 P
-0.49 (PROJECT) 369.5 241.33 P
-0.49 (ST) 443.7 241.33 P
-0.49 (A) 454.56 241.33 P
-0.49 (TUS) 460.67 241.33 P
-0.49 (SPOOLER #) 486.56 241.33 P
(____________________________________________) 319.74 229.33 T
(fnstfj) 319.74 214.33 T
(D0GEANT_SGI) 358.33 214.33 T
(F) 443 214.33 T
(ARMLET) 447.81 214.33 T
(2) 511.39 214.33 T
(fnstfk) 319.74 199.33 T
(RECO_FULL_SGI) 358.05 199.33 T
(F) 440.79 199.33 T
(ARMLET) 445.61 199.33 T
(2) 511.68 199.33 T
(fnsfe_0) 319.74 184.33 T
(RECO_FULL_SGI) 357.21 184.33 T
(F) 439.95 184.33 T
(ARMLET) 444.77 184.33 T
(4) 510.84 184.33 T
(fnsfe_1) 319.74 169.33 T
(RECO_FULL_SGI) 357.21 169.33 T
(F) 439.95 169.33 T
(ARMLET) 444.77 169.33 T
(5) 510.84 169.33 T
(fnsfe_3) 319.74 154.33 T
(RECO_FULL_SGI) 357.21 154.33 T
(F) 439.95 154.33 T
(ARMLET) 444.77 154.33 T
(3) 510.84 154.33 T
(Please note than when the same number is given for logi-) 306 130.33 T
(cal machines running on dif) 306 118.33 T
(ferent physical I/O servers it) 417.41 118.33 T
(doesn\325) 306 106.33 T
(t mean the same input spooler) 332.46 106.33 T
(, of course. In this) 451.71 106.33 T
FMENDPAGE
%%EndPage: "6" 7
%%Page: "7" 7
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Production Model And Hardware Requirements) 214.12 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(7) 527.85 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
1 F
(example, all logical machines are served by their own I/O) 72 677.33 T
(servers.) 72 665.33 T
(The input spooler number actually points the system to a) 72 641.33 T
(\336le in) 72 629.33 T
3 F
( $PRODIR/r) 95.05 629.33 T
(esour) 144.92 629.33 T
(ce) 166.76 629.33 T
1 F
(directory) 178.13 629.33 T
(. This \336le has a name) 213.56 629.33 T
(in a following format:) 72 617.33 T
(inspool_list_SPNO.SER) 85.75 599.33 T
(VER) 182.97 599.33 T
-0.35 (where SPNO is an input spooler number as speci\336ed in the) 72 575.33 P
(resource \336le, and SER) 72 563.33 T
(VER is a physical server name. For) 160.58 563.33 T
(instance, in the above example of a resource \336le an input) 72 551.33 T
(spooler number 5 is speci\336ed for as logical machine) 72 539.33 T
3 F
-0.22 (fnsfe_1) 72 527.33 P
1 F
-0.22 (. That directs tpm production manager to look for a) 100.87 527.33 P
(\336le) 72 515.33 T
(inspool_list_5.fnsfe) 85.75 497.33 T
(The contents of this \336le represents the list of directories) 72 473.33 T
-0.37 (\050that should include absolute path\051 on a particular machine) 72 461.33 P
(to spool in:) 72 449.33 T
(/spool01/dzero/fnsfe_1/inspool) 85.75 431.33 T
(This line tells the TPM to spool into this area. Y) 72 407.33 T
(ou can) 263.95 407.33 T
-0.07 (have as many areas as you want per each \336le which is nec-) 72 395.33 P
(essary when you operate in a SEQUENTIAL mode:) 72 383.33 T
3 F
(inspool_list_1.fnsfe) 72 359.33 T
1 F
( has, for example, the following con-) 150.03 359.33 T
(tents:) 72 347.33 T
(/spool00/dzero/fnsfe_0/fnsf1) 85.75 329.33 T
(12/proman/inspool) 200.85 329.33 T
(/spool00/dzero/fnsfe_0/fnsf1) 85.75 314.33 T
(13/proman/inspool) 200.85 314.33 T
(/spool00/dzero/fnsfe_0/fnsf1) 85.75 299.33 T
(14/proman/inspool) 200.85 299.33 T
(/spool00/dzero/fnsfe_0/fnsf1) 85.75 284.33 T
(15/proman/inspool) 200.85 284.33 T
(/spool00/dzero/fnsfe_0/fnsf1) 85.75 269.33 T
(16/proman/inspool) 200.85 269.33 T
(/spool00/dzero/fnsfe_0/fnsf1) 85.75 254.33 T
(17/proman/inspool) 200.85 254.33 T
(/spool01/dzero/fnsfe_1/fnsf1) 85.75 239.33 T
(18/proman/inspool) 200.85 239.33 T
(/spool01/dzero/fnsfe_1/fnsf1) 85.75 224.33 T
(19/proman/inspool) 200.85 224.33 T
(/spool01/dzero/fnsfe_1/fnsf120/proman/inspool) 85.75 209.33 T
(/spool01/dzero/fnsfe_1/fnsf121/proman/inspool) 85.75 194.33 T
(This \336le covers two logical machines) 72 170.33 T
3 F
(fnsfe_0) 223.57 170.33 T
1 F
( and) 252.44 170.33 T
3 F
(fnsfe_1) 271.87 170.33 T
1 F
(for SEQUENTIAL mode processing.) 72 158.33 T
0 9 Q
(2.7.3) 324 678 T
(How the system knows when to restart an input) 351 678 T
(spooler) 351 666 T
(.) 382.97 666 T
1 10 Q
0 (When the TPM production manager is looping around the) 324 641.33 P
-0.19 (logical machines on a physical machine it gets the number) 324 629.33 P
(of the input spooler assigned to a particular logical) 324 617.33 T
-0.41 (machine and restarts it if the previous input tape is \336nished) 324 605.33 P
(or has failed. If one input spooler is assigned to several) 324 593.33 T
-0.03 (logical machine it will be restarted when the \336rst machine) 324 581.33 P
(on the list is processed.) 324 569.33 T
0 9 Q
(2.7.4) 324 546 T
(Files with input tapes directory) 351 546 T
(.) 482.68 546 T
1 10 Q
(Please note that the input spooler is always looking for a) 324 521.33 T
(\336le) 324 509.33 T
3 F
(tapes_moved.VSN) 339.27 509.33 T
1 F
(, where VSN is an input tape label.) 411.72 509.33 T
(A normal location for this \336le is in) 324 497.33 T
3 F
($PRODIR/history) 465.03 497.33 T
1 F
( sub-) 536.65 497.33 T
(directory \050see Section) 324 485.33 T
(2.2 on page) 413.65 485.33 T
(4 for the de\336nition of) 462.5 485.33 T
3 F
-0.34 ($PRODIR) 324 473.33 P
1 F
-0.34 ( environment variable\051. It will not spool the tape) 365.08 473.33 P
(unless this \336le exists. Y) 324 461.33 T
(ou don\325) 417.68 461.33 T
(t have to worry about it) 448.31 461.33 T
(when doing regular processing because this \336le is created) 324 449.33 T
(automatically by create_tape.csh script \050in) 324 437.33 T
3 F
-0.34 ($PRODIR/tpm\051) 324 425.33 P
1 F
-0.34 (. In special cases \050like Monte-Carlo data or) 386.18 425.33 P
-0.07 (when you want to skip some \336les\051 you may want to create) 324 413.33 P
(this \336le yourself. Y) 324 401.33 T
(ou can either create an empty \336le) 400.18 401.33 T
3 F
(tapes_moved.VSN) 324 389.33 T
1 F
( \050in which case all the \336les on this tape) 396.45 389.33 T
(will be spooled\051 or type in the actual contents or partial) 324 377.33 T
(contents that you need to spool in a following format:) 324 365.33 T
(VSN SEQ FILENAME) 324 341.33 T
(Here VSN is a tape label, SEQ is a \336le sequence number) 324 317.33 T
(on tape, and FILENAME is a tape\336le name. For example,) 324 305.33 T
(for tape WM3898 \336le tapes_moved.WM3898 would look) 324 293.33 T
(like) 324 281.33 T
(WM3898) 337.74 263.33 T
(1) 386.05 263.33 T
(ALL_063797_39.X_RA) 396.04 263.33 T
(W01) 493.24 263.33 T
(WM3898) 337.74 248.33 T
(2) 386.05 248.33 T
(ALL_063797_40.X_RA) 396.04 248.33 T
(W01) 493.24 248.33 T
(WM3898) 337.74 233.33 T
(3) 386.05 233.33 T
(ALL_063797_41.X_RA) 396.04 233.33 T
(W01) 493.24 233.33 T
(WM3898) 337.74 218.33 T
(4) 386.05 218.33 T
(ALL_063797_42.X_RA) 396.04 218.33 T
(W01) 493.24 218.33 T
(WM3898) 337.74 203.33 T
(5) 386.05 203.33 T
(ALL_063797_43.X_RA) 396.04 203.33 T
(W01) 493.24 203.33 T
(WM3898) 337.74 188.33 T
(6) 386.05 188.33 T
(ALL_063797_44.X_RA) 396.04 188.33 T
(W01) 493.24 188.33 T
(WM3898) 337.74 173.33 T
(7) 386.05 173.33 T
(ALL_063797_45.X_RA) 396.04 173.33 T
(W01) 493.24 173.33 T
(WM3898) 337.74 158.33 T
(8) 386.05 158.33 T
(ALL_063797_46.X_RA) 396.04 158.33 T
(W01) 493.24 158.33 T
(WM3898) 337.74 143.33 T
(9) 386.05 143.33 T
(ALL_063797_47.X_RA) 396.04 143.33 T
(W01) 493.24 143.33 T
(WM3898) 337.74 128.33 T
(10) 381.05 128.33 T
(ALL_063797_48.X_RA) 396.04 128.33 T
(W01) 493.24 128.33 T
FMENDPAGE
%%EndPage: "7" 8
%%Page: "8" 8
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM Operator) 246.81 739.85 T
(\325) 306.57 739.85 T
(s Manual) 308.73 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(8) 54 59.95 T
0 9 Q
( of) 59.56 59.95 T
0 10 Q
( 19) 70.54 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
1 10 Q
(This \336le) 54 677.33 T
3 F
(tapes_moved.VSN) 89.54 677.33 T
1 F
(is also used to remove a bad) 164.49 677.33 T
-0.21 (tape \050a tape for which the input spooler fails over and over) 54 665.33 P
(again\051 from the input queue. Y) 54 653.33 T
(ou simply type) 176.24 653.33 T
(rm $PRODIR/history/*.VSN) 67.75 635.33 T
0 9 Q
(2.7.5) 54 612 T
(Output spooling.) 81 612 T
1 10 Q
(Output spooling is a process of reading ST) 54 599.33 T
(A \336les from) 223.93 599.33 T
(designated disk area\050s\051 and writing them out to an output) 54 587.33 T
(tape. As well as an input spooler output spooler does it) 54 575.33 T
(basic I/O using RBIO package.) 54 563.33 T
0 9 Q
(2.7.6) 54 540 T
(Output spooler assignment.) 81 540 T
1 10 Q
(Each logical machine is always assigned an output) 54 515.33 T
0 (spooler) 54 503.33 P
0 (. There is no in\337exibility in this since by de\336nition) 82.87 503.33 P
(a logical machine is a collection of worker nodes with the) 54 491.33 T
(throughput that requires one output spooler to keep up) 54 479.33 T
(with the data \337ow) 54 467.33 T
(. The outspooling area thus is always) 125.25 467.33 T
-0.53 (de\336ned as) 54 455.33 P
3 F
-0.53 ($PRODA) 95.68 455.33 P
-0.53 (T/$server/pr) 133.06 455.33 P
-0.53 (oman/sta) 182.66 455.33 P
1 F
-0.53 (; it is speci\336ed as) 219.31 455.33 P
(an ar) 54 443.33 T
(gument to outspool executable.) 73.52 443.33 T
0 9 Q
(2.7.7) 54 420 T
(Output tape directory) 81 420 T
(.) 171.72 420 T
1 10 Q
(At any given moment of time you can always \336nd an out-) 54 395.33 T
(put tape contents by typing the) 54 383.33 T
3 F
($PRODIR/pdbkd/$YEAR/$WEEK/ST) 54 371.33 T
(A) 201.51 371.33 T
(T_VSN.RCP) 207.25 371.33 T
1 F
( \336le.) 256.95 371.33 T
-0.02 (Here $YEAR is a current year \050e.g., 1993\051, $WEEK is a 6) 54 359.33 P
(day range \0501-6, 7-12, 13-18, 19-24, 25-31\051 when the tape) 54 347.33 T
(was processed and VSN is an output tape label.) 54 335.33 T
0 9 Q
(2.7.8) 54 312 T
(T) 81 312 T
(ape Drives Handling.) 85.83 312 T
1 10 Q
(For each physical I/O server that is a part of the TPM pro-) 54 299.33 T
-0.28 (duction manager there is a \336le) 54 287.33 P
3 F
-0.28 (drives.cpu_node) 175.58 287.33 P
1 F
-0.28 ( residing in) 241.36 287.33 P
3 F
($PRODIR/r) 54 275.33 T
(esour) 101.37 275.33 T
(ces) 123.21 275.33 T
1 F
(subdirectory) 138.47 275.33 T
(. This \336le lists all the) 187.79 275.33 T
(available tape drives and their status. T) 54 263.33 T
(o remove a tape) 209.57 263.33 T
(drive from the spooling system change its status to) 54 251.33 T
(READY) 54 239.33 T
(. T) 87.13 239.33 T
(o add a tape drive to the spooling system) 97.54 239.33 T
(change its status to UNA) 54 227.33 T
(V) 152.65 227.33 T
(AILABLE. Please remember) 158.57 227.33 T
(that all these tape drives, both READY and UNA) 54 215.33 T
(V) 250.07 215.33 T
(AIL-) 256 215.33 T
-0.08 (ABLE, should be included into the cps tape database for a) 54 203.33 P
(production system in question. Below is an example of) 54 191.33 T
3 F
(drives.fnsfe) 54 179.33 T
1 F
( \336le:) 99.81 179.33 T
(sgi80) 67.75 161.33 T
(READY) 94.4 161.33 T
(sgi81) 67.75 146.33 T
(READY) 94.4 146.33 T
(sgi82) 67.75 131.33 T
(READY) 94.4 131.33 T
(sgi83) 67.75 116.33 T
(READY) 94.4 116.33 T
(sgi84) 67.75 101.33 T
(READY) 94.4 101.33 T
(sgi85) 319.74 677.33 T
(UNA) 346.4 677.33 T
(V) 366.76 677.33 T
(AILABLE) 372.69 677.33 T
(sgi86) 319.74 662.33 T
(READY) 346.4 662.33 T
0 9 Q
(2.7.9) 306 639 T
(Executables.) 333 639 T
1 10 Q
(The current executables are in $PRODIR/exe. Their \336le-) 306 614.33 T
(names are) 306 602.33 T
3 F
(inspool_l.x) 348.74 602.33 T
1 F
(for an input spooler and) 395.38 602.33 T
3 F
-0.17 (outspool_mu.x) 306 590.33 P
1 F
-0.17 (. The source code of them for reference pur-) 364.58 590.33 P
(poses can be found in) 306 578.33 T
3 F
($PRODIR/sour) 395.1 578.33 T
(ce.) 456.36 578.33 T
306 535 540 538 C
306 537.16 540 537.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(3.0) 306 542 T
(TPM Operator) 333 542 T
(\325) 412.74 542 T
(s Manual) 415.64 542 T
1 24 Q
(T) 306 514.33 T
1 10 Q
(he following is supposed to give a brief overview of) 320.66 514.33 T
(the TPM - a production manager system running on the) 306 502.33 T
(D0 SGI Reconstruction Farm from its operator point of) 306 490.33 T
-0.44 (view) 306 478.33 P
-0.44 (. The purpose of this system is to submit, monitor) 324.78 478.33 P
-0.44 (, and) 518.95 478.33 P
-0.16 (report the status of the reconstruction jobs, also to commu-) 306 466.33 P
(nicate with the outside world by spooling the DST) 306 454.33 T
(s to the) 506.85 454.33 T
(DST area on the D0FS and preparing the RCP-\336les to) 306 442.33 T
-0.46 (make the corresponding entries in the F) 306 430.33 P
-0.46 (A) 460.71 430.33 P
-0.46 (TMEN catalogue.) 466.82 430.33 P
(TPM allows for handling of the several reconstruction) 306 418.33 T
(projects \050the number is limited only by the number of) 306 406.33 T
(available cpu-nodes\051. The operator actions include moni-) 306 394.33 T
(toring the system status, handling of error conditions that) 306 382.33 T
-0.04 (require human intervention, and ful\336lling requests for pro-) 306 370.33 P
(cessing of the speci\336ed data. TPM will automatically) 306 358.33 T
(recover from the majority of error conditions including,) 306 346.33 T
(but not limited to, spooler hang-ups, reconstruction code) 306 334.33 T
(failures, bad input and/or output tapes, etc.) 306 322.33 T
(This is not intended to be a complete technical manual on) 306 298.33 T
(TPM. This document is a how-to manual for the operator) 306 286.33 T
(and doesn\325) 306 274.33 T
(t require any knowledge of Unix, c-shell, or) 349.4 274.33 T
(awk-language. Please read the rest of these document to) 306 262.33 T
(get more insight on TPM intrinsics.) 306 250.33 T
0 F
(3.1) 306 218.33 T
(How to log into the D0 SGI farm.) 333 218.33 T
1 F
( From any available computer type) 306 195.33 T
( telnet fnsfe) 319.74 177.33 T
( Answer dzero at) 306 153.33 T
3 F
(login:) 376.49 153.33 T
1 F
( prompt. The password is.........) 400.37 153.33 T
FMENDPAGE
%%EndPage: "8" 9
%%Page: "9" 9
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM Operator) 264.81 739.85 T
(\325) 324.57 739.85 T
(s Manual) 326.73 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(9) 527.85 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
(3.2) 72 677.33 T
( How to check what the system is doing.) 99 677.33 T
1 F
-0.45 (T) 72 654.33 P
-0.45 (ype) 77.41 654.33 P
2 F
-0.45 (tpm_disp) 93.89 654.33 P
1 F
-0.45 ( at fnsfe% prompt. This command will also) 133.88 654.33 P
(work on all of the rest of the nodes of the D0 SGI farm) 72 642.33 T
(\050currently fnstfj and fnsfg\051. The resulting display will) 72 630.33 T
(show the status of the last twenty one jobs. If you want to) 72 618.33 T
(get the status for more jobs \050going farther into the past\051) 72 606.33 T
-0.11 (supply the command with an ar) 72 594.33 P
-0.11 (gument, e.g.) 197.04 594.33 P
2 F
-0.11 (tpm_disp 40) 248.74 594.33 P
1 F
-0.11 (.) 301.11 594.33 P
-0.41 (This will display a status for the last 40 jobs. The format of) 72 582.33 P
(the table includes the job queue ID number - a unique) 72 570.33 T
(number for any job, the farm node on which the job was) 72 558.33 T
(\050is\051 executed, the reconstruction project name, the input) 72 546.33 T
(and the output tape volume label, the date this job was) 72 534.33 T
(submitted, and the current status of the job. The status) 72 522.33 T
(\336eld for the running job may be:) 72 510.33 T
2 F
-0.21 (SUBMITTED) 85.75 492.33 P
1 F
-0.21 ( - a job has been submitted by the TPM.) 145.72 492.33 P
(No communications with the job have been made.) 85.75 480.33 T
2 F
(RUNNING) 85.75 465.33 T
1 F
( - the recently submitted job has started) 133.49 465.33 T
-0.45 (successfully on a given node. Both in- and out-spoolers) 85.75 453.33 P
(are running.) 85.75 441.33 T
2 F
(NEXT_DS_OK) 85.75 426.33 T
1 F
( - next input dataset was processed) 151.83 426.33 T
(successfully) 85.75 414.33 T
(, the job is still running since there is) 133.95 414.33 T
(another dataset on the input tape.) 85.75 402.33 T
2 F
(RUN_DS_F) 85.75 387.33 T
(AIL) 135.53 387.33 T
1 F
( - next input dataset failed to be pro-) 153.3 387.33 T
-0.2 (cessed successfully) 85.75 375.33 P
-0.2 (. No harm to the job itself was done) 162.33 375.33 P
-0.04 (and no operator action is required. It is prudent though) 85.75 363.33 P
(to look into the causes of the failure \050see the diagnos-) 85.75 351.33 T
(tics section\051.) 85.75 339.33 T
2 F
(INQUEUED) 85.75 324.33 T
1 F
(- indicates that a job was submitted to a) 142.1 324.33 T
(farmlet - I/O server with more than 1 worker CPU) 85.75 312.33 T
(node. Currently 1 stand-alone node \050) 85.75 300.33 T
3 F
(fnstfj) 232.3 300.33 T
1 F
(\051 and 1 farm-) 252.3 300.33 T
(let \050) 85.75 288.33 T
3 F
(fnsfe) 101.57 288.33 T
1 F
(with 24 worker nodes\051 are available. The sta-) 122.94 288.33 T
(tus \336eld for the \336nished job may be:) 85.75 276.33 T
2 F
-0.39 (SUCCESS) 85.75 261.33 P
1 F
-0.39 ( - all the input datasets for the job have been) 130.73 261.33 P
-0.09 (processed successfully) 85.75 249.33 P
-0.09 (. This is the most common situa-) 175.77 249.33 P
(tion.) 85.75 237.33 T
2 F
-0.19 (FINISHED) 85.75 222.33 P
1 F
-0.19 ( - at least one of the input datasets failed to) 134.06 222.33 P
(be processed successfully) 85.75 210.33 T
(. Look at the log \336les to \336nd) 187.79 210.33 T
(which and why \050see the diagnostics section\051.) 85.75 198.33 T
2 F
(ENDED) 85.75 183.33 T
1 F
( - an input tape was successfully in-spooled) 120.73 183.33 T
(but no conclusion can be made about the status of the) 85.75 171.33 T
(dataset processing. This is a standard message in the) 85.75 159.33 T
3 F
(parallel) 85.75 147.33 T
1 F
( node.) 117.4 147.33 T
2 F
(F) 85.75 132.33 T
(AILED_ON_SP) 91.11 132.33 T
1 F
( - an input or output spooler failure.) 159.41 132.33 T
(Happens when there are problems with input and/or) 85.75 120.33 T
(output tapes, or the tape drive hardware. Look into the) 85.75 108.33 T
(log \336les for details \050see the diagnostics section\051.) 85.75 96.33 T
2 F
(INT) 337.74 677.33 T
(APE_IN_USE) 354.77 677.33 T
1 F
( - an input tape you want to use for) 415.3 677.33 T
(the reconstruction is already used on D0FS. One) 337.74 665.33 T
-0.01 (important caveat - make sure that it is not you who are) 337.74 653.33 P
(\322using\323 this tape. If the node fails due to the local) 337.74 641.33 T
(power outage or the hardware malfunction it cannot) 337.74 629.33 T
-0.07 (communicate to the D0FS that the tape in question has) 337.74 617.33 P
(been released. Y) 337.74 605.33 T
(ou have to check it yourself - see) 403.07 605.33 T
(\322Communicating with D0FS\323 Section) 337.74 593.33 T
(3.7 on page) 492.11 593.33 T
(13.) 540.96 593.33 T
(There may be non-standard status messages \050put in by) 324 569.33 T
(hand by the farm manager\051, which are usually self-explan-) 324 557.33 T
(atory) 324 545.33 T
(, e.g.) 343.89 545.33 T
2 F
(POWER_OUT) 365.82 545.33 T
(AGE) 429.49 545.33 T
1 F
( would mean that the job) 451.15 545.33 T
(in question failed due to the power outage.) 324 533.33 T
(Another command,) 324 509.33 T
2 F
(tpm_wide) 403.67 509.33 T
1 F
(, in addition to the goodies) 445.86 509.33 T
(that) 324 497.33 T
2 F
(tpm_disp) 341.49 497.33 T
1 F
(provides also gives you the \336nish time of) 383.98 497.33 T
(the job.) 324 485.33 T
2 F
(tpm_wide) 356.48 485.33 T
1 F
(requires 132 column output device.) 401.18 485.33 T
0 F
(3.3) 324 453.33 T
(How to add new blank tapes to the system.) 351 453.33 T
1 F
(All the following commands are valid in the) 324 430.33 T
3 F
(~/pr) 503.33 430.33 T
(oman/r) 520.03 430.33 T
(e-) 548.54 430.33 T
(sour) 324 418.33 T
(ces) 341.4 418.33 T
1 F
( directory) 354.16 418.33 T
(. After logging into fnsfe type) 392.09 418.33 T
( cd ~/proman/resources) 337.74 400.33 T
( T) 324 376.33 T
(o add tapes to the pool of available tapes do the follow-) 331.91 376.33 T
(ing) 324 364.33 T
1 8 Q
(1) 336.77 368.33 T
1 10 Q
(:) 340.77 364.33 T
(cp blanks blanks.tmp) 337.74 346.33 T
(add_blanks SERIES FIRST END >> blanks.tmp) 337.74 331.33 T
(mv blanks.tmp blanks) 337.74 316.33 T
-0.4 (Here SERIES is a two letter series code \050e.g., WN\051, FIRST) 324 292.33 P
-0.24 (is a starting tape number) 324 280.33 P
-0.24 (, and LAST is an inclusive ending) 420.89 280.33 P
(tape number) 324 268.33 T
(. So the real commands will look like) 373.13 268.33 T
(cp blanks blanks.tmp) 337.74 250.33 T
(add_blanks WN 123 234 >> blanks.tmp) 337.74 235.33 T
(mv blanks.tmp blanks) 337.74 220.33 T
(and will add tapes WN0123 through WN0234 to the pool) 324 196.33 T
(of available tapes.) 324 184.33 T
324 150.24 558 163.24 C
324 158.24 432 158.24 2 L
0.25 H
2 Z
0 X
0 K
N
0 0 612 792 C
1 9 Q
0 X
0 K
(1.  Please don\325) 324 144.24 T
(t for) 376.76 144.24 T
(get to wait until \322tpm_submit_job\323 is sleep-) 391.82 144.24 T
(ing, i.e.) 324 134.24 T
1 10 Q
(ps -ef | grep dzero) 337.74 120.58 T
(command produces \322sleep 800\323.) 324 97.33 T
FMENDPAGE
%%EndPage: "9" 10
%%Page: "10" 10
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM Operator) 246.81 739.85 T
(\325) 306.57 739.85 T
(s Manual) 308.73 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(10) 54 59.95 T
0 9 Q
( of) 65.11 59.95 T
0 10 Q
( 19) 76.1 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
4 11 Q
(\245) 54 677.33 T
1 10 Q
(IMPOR) 67.75 677.33 T
(T) 98.8 677.33 T
(ANT! Please make sure that you typed >>) 104.11 677.33 T
(rather than >. If you did that please don\325) 67.75 665.33 T
(t do the mv) 228.92 665.33 T
(part. Start again from cp.) 67.75 653.33 T
(CAUTION! This script will not check for duplicate) 54 629.33 T
(entries; it is your responsibility to make sure that the tape) 54 617.33 T
-0.11 (in question has not been already entered into the database.) 54 605.33 P
(T) 54 593.33 T
(o check the last n tapes in the \322blanks\323 database you can) 59.41 593.33 T
(issue the following command:) 54 581.33 T
( tail -n blanks) 67.75 563.33 T
0 F
(3.4) 54 531.33 T
(How to enter new jobs to the pool of the) 81 531.33 T
(jobs waiting for the execution.) 81 520.33 T
1 F
-0.09 (Normally you don\325) 54 497.33 P
-0.09 (t need to do this since the entering jobs) 130.26 497.33 P
(into the input queue is automated vi the get_new_jobs) 54 485.33 T
(scripts which is running automatically every hour and) 54 473.33 T
(checks D0FS for new input tapes vaulted. But in case a) 54 461.33 T
(necessity would arise the following procedure would) 54 449.33 T
-0.27 (allow to add a tape manually) 54 437.33 P
-0.27 (. All the following commands) 167.2 437.33 P
(are valid in the) 54 425.33 T
3 F
(~/pr) 116.18 425.33 T
(oman/r) 132.88 425.33 T
(esour) 161.38 425.33 T
(ces) 183.22 425.33 T
1 F
( directory) 195.98 425.33 T
(. After log-) 233.91 425.33 T
(ging into fnsfe type) 54 413.33 T
( cd ~/proman/resources) 67.75 395.33 T
(The unit job in our reconstruction model is an input tape.) 54 371.33 T
-0.26 (Hence \322to submit a job\323 means to let the system know that) 54 359.33 P
(a particular input tape is available for the reconstruction.) 54 347.33 T
(In order to do this issue the following command:) 54 335.33 T
( injob_create) 67.75 317.33 T
(Y) 54 293.33 T
(ou will be prompted for the project name - the default) 60.22 293.33 T
(one is RECO_FULL_SGI, just type <CR> to get it. Then) 54 281.33 T
(you will be prompted for the input tapes labels. Enter) 54 269.33 T
-0.02 (<CR> after each tape to be added; enter <CR><CR> after) 54 257.33 P
(the last one you want to add. After that the contents of) 54 245.33 T
(your update will be displayed for your review) 54 233.33 T
(. If you like) 236.27 233.33 T
(it - type <CR> or Y at the prompt. If you don\325) 54 221.33 T
(t - type any-) 238.32 221.33 T
(thing except <CR> or Y) 54 209.33 T
(. The program will then exit with-) 149.49 209.33 T
(out updating the database.) 54 197.33 T
4 11 Q
(\245) 54 179.33 T
1 10 Q
(CAUTION! No attempt is made to check for the dupli-) 67.75 179.33 T
(cate entries. The need to enter any of the input tapes) 67.75 167.33 T
-0.44 (twice may arise only to reprocess some of the datasets -) 67.75 155.33 P
-0.36 (an operator is not supposed to do this. In order to check) 67.75 143.33 P
(which n jobs were entered last issue the following) 67.75 131.33 T
(command:) 67.75 119.33 T
(tail -n injobs) 67.75 104.33 T
0 F
(3.5) 306 677.33 T
( Reports) 333 677.33 T
1 F
-0.4 (The reports generators are in) 306 654.33 P
3 F
-0.4 ($PRODIR/r) 421.38 654.33 P
-0.4 (eport) 468.76 654.33 P
1 F
-0.4 ( area. T) 489.86 654.33 P
-0.4 (o get) 518.6 654.33 P
(there type the following command after logging to the) 306 642.33 T
(farm:) 306 630.33 T
( cd ~/proman/report) 319.74 612.33 T
(The following reports are currently available:) 306 588.33 T
(1. Of) 306 564.33 T
(\336cial farm report displays the output tapes available,) 326.36 564.33 T
(run numbers for the datasets processed, date this job was) 306 552.33 T
-0.18 (submitted, number of events on a tape and total number of) 306 540.33 P
(events processed. In order to obtain it type) 306 528.33 T
(rlogin fnsfg) 319.74 510.33 T
(of) 319.74 495.33 T
(\336cial_report Mon STR &) 327.89 495.33 T
(exit) 319.74 480.33 T
(Here Mon is a three letter abbreviation for the month you) 306 456.33 T
(want to obtain the report for \050e.g., Jan, Feb, Oct, etc.\051) 306 444.33 T
1 8 Q
(1) 518.89 448.33 T
1 10 Q
(;) 522.89 444.33 T
(STR is a stream name \050e.g., ALL, EXP) 306 432.33 T
(, etc.\051.) 461.17 432.33 T
1 8 Q
(2) 486.15 436.33 T
1 10 Q
( The stream) 490.15 432.33 T
-0.04 (ar) 306 420.33 P
-0.04 (gument can be omitted in which case processed datasets) 313.59 420.33 P
-0.33 (for all available streams will be reported. The result can be) 306 408.33 P
(found in the \336le) 306 396.33 T
( $PRODIR/report/log/of) 319.74 378.33 T
(f_rep_STR.MM_DD_YY) 417.01 378.33 T
(where STR is a stream name and MM_DD_YY is the) 306 354.33 T
(today\325) 306 342.33 T
(s date. It takes from 1 to 8 hours to process this) 330.99 342.33 T
(report, depending on the node load.) 306 330.33 T
-0.09 (Please also note that this report is started automatically on) 306 306.33 P
(a node fnsfg as a cron job every Sunday at 7 PM to be) 306 294.33 T
(ready for Monday\325) 306 282.33 T
(s All Experimenters Meeting at FNAL.) 380.94 282.33 T
(2. An exhaustive report for any particular output tape can) 306 258.33 T
(be obtained by typing) 306 246.33 T
( evt_per_tape OUTVSN) 319.74 228.33 T
(where OUTVSN is the output tape volume label.) 306 204.33 T
-0.32 (3. Just to get the number of events on any particular output) 306 180.33 P
(tape type) 306 168.33 T
( evt_only OUTVSN Mon) 319.74 150.33 T
306 116 540 129 C
306 124 414 124 2 L
0.25 H
2 Z
0 X
0 K
N
0 0 612 792 C
1 9 Q
0 X
0 K
(1.) 306 110 T
1 10 Q
(Note that the \336rst letter should be) 317.23 110 T
1 9 Q
(in upper case.) 453.54 110 T
(2.) 306 97 T
1 10 Q
(Note that) 317.23 97 T
1 9 Q
( all three letters should be in uppercase.) 354.15 97 T
FMENDPAGE
%%EndPage: "10" 11
%%Page: "11" 11
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM Operator) 264.81 739.85 T
(\325) 324.57 739.85 T
(s Manual) 326.73 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(1) 522.84 59.95 T
(1) 527.85 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
(3.6) 72 677.33 T
(Recovering from the system crash \050The) 99 677.33 T
(Cold Start\051.) 99 666.33 T
1 F
( If the whole farm went down and was rebooted you have) 72 643.33 T
(to:) 72 631.33 T
4 11 Q
(\245) 72 613.33 T
1 10 Q
(make sure that all farm nodes are up. Ask system oper-) 85.75 613.33 T
(ators in FCC \050x2746\051.) 85.75 601.33 T
4 11 Q
(\245) 72 586.33 T
1 10 Q
(Send a mail to the unix production manager unix_pro-) 85.75 586.33 T
(man@fnsfe noting the fact and detailing the circum-) 85.75 574.33 T
(stances of the crash.) 85.75 562.33 T
4 11 Q
(\245) 72 547.33 T
1 10 Q
(Execute \322after_crash\323 procedure by typing) 85.75 547.33 T
2 F
(after_crash) 85.75 532.33 T
1 F
-0.5 (at) 85.75 517.33 P
2 F
-0.5 (fnsfe%) 94.96 517.33 P
1 F
-0.5 ( prompt. This procedure would automatically) 125.5 517.33 P
-0.15 (restart TPM and dbl3 servers. It will also restart all net-) 85.75 505.33 P
(work transfers and salvage all the output from the out-) 85.75 493.33 T
(put tapes that were in the tape drives when the system) 85.75 481.33 T
(crash occurred.) 85.75 469.33 T
0 F
(3.7) 72 437.33 T
(Blocking The Input T) 99 437.33 T
(ape From Being) 197.11 437.33 T
(Submitted on D0FS.) 99 426.33 T
1 F
-0.39 (In order to avoid the con\337icts with the user requests for the) 72 403.33 P
-0.37 (tapes on the D0FS side, a fake job is submitted on D0FS to) 72 391.33 P
-0.41 (ST) 72 379.33 P
-0.41 (AGE_IN_USE_ON_UNIX_F) 82.86 379.33 P
-0.41 (ARM queue. The jobs are) 202.04 379.33 P
(remotely submitted from DZERO account on the D0FS,) 72 367.33 T
(password.......... After the farm crash \050either for the whole) 72 355.33 T
(farm or for the individual nodes\051 make sure that the jobs) 72 343.33 T
(that crashed are removed from ST) 72 331.33 T
(AGE_IN_USE_O-) 207.48 331.33 T
(N_UNIX_F) 72 319.33 T
(ARM queue on D0FS. Log in to D0FS, then) 119 319.33 T
(type) 72 307.33 T
( show entry) 85.75 289.33 T
(Look for the job with the name) 72 265.33 T
(YYYYYY_YYYYYY_XX_UNIX, where YYYYYY is) 72 253.33 T
(the volume label of the tape in question. For example, the) 72 241.33 T
(output may look like) 72 229.33 T
(D0FSA$ show entry) 72 205.33 T
(Entry) 72 181.33 T
(Jobname) 119.19 181.33 T
(Username) 174.71 181.33 T
(Blocks) 230.22 181.33 T
(Status) 272.98 181.33 T
(____________________________________________) 72 157.33 T
(69) 72 133.33 T
(WM0874_WM0874_XX_UNIX) 91.99 133.33 T
(DZERO) 233 133.33 T
(Executing On available batch queue) 72 109.33 T
(ST) 72 97.33 T
(AGE_IN_USE_ON_UNIX_F) 82.86 97.33 T
(ARM) 202.04 97.33 T
(After \336nding it remove the corresponding entry:) 324 677.33 T
(DELETE/ENTR) 337.74 659.33 T
(Y=ENTR) 403.82 659.33 T
(YNUMBER) 442.22 659.33 T
(where ENTR) 324 635.33 T
(YNUMBER is the entry number) 376.46 635.33 T
(, 69 in the) 505.98 635.33 T
(above example.) 324 623.33 T
0 F
(3.8) 324 591.33 T
(Diagnostics - Log Files.) 351 591.33 T
1 F
(There are several levels of diagnostics. None of them) 324 568.33 T
(require the operator involvement. Just in case the location) 324 556.33 T
(of several important log \336les is outlined below:) 324 544.33 T
0 9 Q
(3.8.1) 324 521 T
(Communications with D0FS.) 351 521 T
1 10 Q
($PRODIR/logdb/1992/oct/19-24/copy_results_log.OUTV) 324 496.33 T
(SN) 324 484.33 T
(where OUTVSN is the output tape volume label. Here) 324 460.33 T
(substitute 1992 for a current year) 324 448.33 T
(, oct for the current) 456 448.33 T
(month and 19-24 for the current date. A) 324 436.33 T
(vailable date) 482.58 436.33 T
-0.33 (ranges are 1-6, 7-12, 13-18, 19- 24, and 25-31. Reports the) 324 424.33 P
(status of the copying of the DST) 324 412.33 T
(s and RCPs to D0FS. If) 453.22 412.33 T
-0.37 (some problem occurs during the transmission the mail will) 324 400.33 P
(be sent also to unix_proman mailing alias as de\336ned in) 324 388.33 T
(.mailrc.) 324 376.33 T
($PRODIR/report/copied_dst.log) 337.74 358.33 T
-0.15 (contains a list of the output tapes for which the DST) 324 334.33 P
-0.15 (s have) 530.55 334.33 P
(been copied as well as the date of the transaction.) 324 322.33 T
($PRODIR/report/fmrcp_copied.log) 337.74 304.33 T
(contains a list of the output tapes for which the F) 324 280.33 T
(A) 518.69 280.33 T
(TMEN) 524.8 280.33 T
(RCPs were produced and shipped to D0FS as well as the) 324 268.33 T
(date of the transaction.) 324 256.33 T
0 9 Q
(3.8.2) 324 233 T
(I/O Spoolers Log Files.) 351 233 T
1 10 Q
(Spooler log \336les are also in $PRODIR/logdb area. The) 324 208.33 T
(names have the following format:) 324 196.33 T
(inspool_QUEID.log) 337.74 178.33 T
(outspool_QUEID.log) 337.74 163.33 T
(Log \336le names are a little bit dif) 324 139.33 T
(ferent for farmlets. Since) 452.35 139.33 T
(there is no more direct link between the output tape and) 324 127.33 T
(the input tapes, the outspooler log\336le is now indexed by) 324 115.33 T
(the output tape VSN and has a time stamp, e.g.) 324 103.33 T
FMENDPAGE
%%EndPage: "11" 12
%%Page: "12" 12
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM Operator) 246.81 739.85 T
(\325) 306.57 739.85 T
(s Manual) 308.73 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(12) 54 59.95 T
0 9 Q
( of) 65.11 59.95 T
0 10 Q
( 19) 76.1 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
1 10 Q
(outspool_WN2024_3020909.log) 67.75 677.33 T
(In this notation WN2024 is an output tape VSN, 3020909) 54 653.33 T
(is a time stamp. The timestamp shows the time when the) 54 641.33 T
-0.19 (output spooler has started and can be deciphered in the fol-) 54 629.33 P
-0.09 (lowing way: the \336rst digit stands for the year \0503 for 1993\051,) 54 617.33 P
(the second two digits stand for the month \05002 for Febru-) 54 605.33 T
(ary\051, next two digits denote the date; then goes an hour \0500) 54 593.33 T
(to 24\051.) 54 581.33 T
0 9 Q
(3.8.3) 54 558 T
(Reconstruction Program Log Files) 81 558 T
1 10 Q
-0.34 (RECO log \336les can be found in $PRODIR/logdb area. The) 54 533.33 P
(name has the following format: for the) 54 521.33 T
3 F
(standalone) 210.83 521.33 T
1 F
( mode:) 254.7 521.33 T
(PROJECT_QUEID.log) 67.75 503.33 T
(For example,) 54 479.33 T
3 F
(RECO_FULL_SGI_604.log) 109.24 479.33 T
1 F
(.) 220.57 479.33 T
-0.1 (The RECO log\336le for a) 54 455.33 P
3 F
-0.1 (sequential) 149.81 455.33 P
1 F
-0.1 (mode in addition to the) 193.29 455.33 P
-0.31 (QUEID has also the sequence number of the reconstructed) 54 443.33 P
(\336le, e.g.) 54 431.33 T
(RECO_FULL_SGI_3074-6.log) 67.75 413.33 T
(Here we have a log\336le for the reconstruction of a QUEID) 54 389.33 T
(3074, \336le number 6.) 54 377.33 T
(RECO log\336les for a) 54 353.33 T
3 F
(parallel) 136.18 353.33 T
1 F
( mode are kept per worker) 167.83 353.33 T
(node in $PRODIR/wrkdb and have the following format:) 54 341.33 T
(wrk_WRKNODE_TIMEST) 67.75 323.33 T
(AMP) 179.64 323.33 T
(.log) 200.19 323.33 T
(E.g.,) 54 299.33 T
3 F
(wrk_fnsf134_306161) 75.1 299.33 T
(1.log.) 158.76 299.33 T
0 F
(3.9) 54 267.33 T
(Diagnostics - Mail Messages.) 81 267.33 T
1 F
(In order to avoid making continuous monitoring of the) 54 251.33 T
(system necessary most of the error conditions are being) 54 239.33 T
(reported to an operator via mail messages sent to) 54 227.33 T
3 F
(unix_pr) 54 215.33 T
(oman) 84.72 215.33 T
1 F
( mail alias. This alias is de\336ned in a) 106.93 215.33 T
3 F
(.mailr) 252.4 215.33 T
(c) 276.19 215.33 T
1 F
(\336le in the dzero) 54 203.33 T
3 F
( $HOME) 116.46 203.33 T
1 F
( directory) 152.82 203.33 T
(. Thus new mail) 190.74 203.33 T
(addresses can be added or old mail addresses can be) 54 191.33 T
(removed by editing this \336le.) 54 179.33 T
(All mail messages can be divided into the following cate-) 54 155.33 T
(gories:) 54 143.33 T
4 11 Q
(\245) 54 125.33 T
2 10 Q
(W) 67.75 125.33 T
(arnings.) 77.19 125.33 T
1 F
( The TPM system has identi\336ed a problem) 111.9 125.33 T
(and was able to \336x it successfully by itself. Excessive) 67.75 113.33 T
(repetition of a warning message may signal that there) 319.74 677.33 T
(is a problem requiring attention.) 319.74 665.33 T
4 11 Q
(\245) 306 650.33 T
2 10 Q
-0.15 (Err) 319.74 650.33 P
-0.15 (ors) 335.11 650.33 P
1 F
-0.15 (. Need operator intervention but not necessarily) 348.43 650.33 P
(immediately) 319.74 638.33 T
(.) 369.07 638.33 T
4 11 Q
(\245) 306 623.33 T
2 10 Q
(Alarms) 319.74 623.33 T
1 F
(. Require immediate operator intervention.) 351.39 623.33 T
0 9 Q
(3.9.1) 306 600 T
(W) 333 600 T
(arnings.) 341.15 600 T
3 10 Q
(Parallel servers on $FMLNODE will be r) 319.74 584.33 T
(estarted) 486.5 584.33 T
1 F
( A) 518.71 584.33 T
(message indicating that one or more parallel servers) 319.74 572.33 T
-0.1 (died for) 319.74 560.33 P
3 F
-0.1 ($FMLNODE) 353.41 560.33 P
1 F
-0.1 ( logical machine. The system rec-) 405.6 560.33 P
(ognized this and will restart the parallel shell.) 319.74 548.33 T
3 F
(Rsh got stuck in ...; killed) 319.74 533.33 T
1 F
( Communications problem) 421.35 533.33 T
(between the node running TPM and a remote node) 319.74 521.33 T
(\050remote I/O server or worker node\051.) 319.74 509.33 T
3 F
-0.11 (RECO crashed at) 319.74 494.33 P
1 F
-0.11 ( date) 390.04 494.33 P
3 F
-0.11 (for the dataset) 411.47 494.33 P
1 F
-0.11 ( dataset Indicates) 469 494.33 P
(that the reconstruction code failed on a particular) 319.74 482.33 T
(dataset.) 319.74 470.33 T
3 F
-0.41 (The pr) 319.74 455.33 P
-0.41 (evious intape job ended ABEND) 345.34 455.33 P
1 F
-0.41 (VSN N) 475.15 455.33 P
3 F
-0.41 (\336les) 506.54 455.33 P
1 F
-0.41 ( If a) 522.64 455.33 P
(particular tape VSN is not an ur) 319.74 443.33 T
(gent project - ignore.) 446.7 443.33 T
(Otherwise if N = -1 or N = 0 \050which indicates that no) 319.74 431.33 T
(\336les were read from that tape\051 you can change the sta-) 319.74 419.33 T
(tus of the tape in question from) 319.74 407.33 T
2 F
(SUBMITTED) 447.17 407.33 T
1 F
( to) 507.14 407.33 T
2 F
(W) 319.74 395.33 T
(AITING) 328.63 395.33 T
1 F
( in) 365.28 395.33 T
3 F
($PRODIR/r) 378.05 395.33 T
(esour) 425.43 395.33 T
(ces/injobs) 447.27 395.33 T
1 F
(.) 487.24 395.33 T
0 9 Q
(3.9.2) 306 372 T
(Errors) 333 372 T
3 10 Q
-0.22 (T) 319.74 356.33 P
-0.22 (ape) 324.38 356.33 P
1 F
-0.22 (VSN) 341.09 356.33 P
3 F
-0.22 (is in use on D0FS) 363.36 356.33 P
1 F
-0.22 (Either the tape is really in) 435.83 356.33 P
(use by somebody on D0FS or it is a leftover from a) 319.74 344.33 T
(system crash. Please proceed per instructions in) 319.74 332.33 T
3 F
(Section) 319.74 320.33 T
(3.7 on page) 351.67 320.33 T
(13.) 401.08 320.33 T
-0.26 (The pr) 319.74 305.33 P
-0.26 (evious outtape job ended ABEND) 345.49 305.33 P
1 F
-0.26 ( VSN N) 478.83 305.33 P
3 F
-0.26 (\336les) 512.76 305.33 P
1 F
-0.26 ( If) 528.86 305.33 P
-0.25 (N is less than or equal to zero - return this tape to spool) 319.74 293.33 P
(of available tapes by changing) 319.74 281.33 T
2 F
(USED) 443.82 281.33 T
1 F
( to) 470.47 281.33 T
2 F
(READY) 483.24 281.33 T
1 F
( in) 518.78 281.33 T
3 F
($PRODIR/r) 319.74 269.33 T
(esour) 367.12 269.33 T
(ces/blanks) 388.96 269.33 T
1 F
(. Otherwise please transfer) 430.59 269.33 T
(the DST) 319.74 257.33 T
(s from this tape to D0FS by either executing) 352.64 257.33 T
(the GUI widget) 319.74 245.33 T
3 F
(copy_dst) 384.42 245.33 T
1 F
( or typing) 419.95 245.33 T
(cd $PRODIR/exe) 329.74 230.33 T
(pick_up_all) 329.74 215.33 T
0 9 Q
(3.9.3) 306 192 T
(Alarms) 333 192 T
3 10 Q
(All drives ar) 319.74 176.33 T
(e busy; fatal err) 369.35 176.33 T
(or submitting in\050out\051) 433.1 176.33 T
(spooler) 319.74 164.33 T
1 F
(More logical machines are probably declared) 352.23 164.33 T
(that there are tape drives in the system. Check the) 319.74 152.33 T
3 F
($PRODIR/r) 319.74 140.33 T
(esour) 367.12 140.33 T
(ces/r) 388.96 140.33 T
(esour) 408.02 140.33 T
(ce) 429.85 140.33 T
1 F
( and) 438.73 140.33 T
3 F
($PRODIR/r) 319.74 128.33 T
(esour) 367.12 128.33 T
(ces/drives.CPU) 388.96 128.33 T
1 F
( \336les. If it is still not) 451.41 128.33 T
(clear what happened - page D0 immediately) 319.74 116.33 T
(.) 495.62 116.33 T
FMENDPAGE
%%EndPage: "12" 13
%%Page: "13" 13
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(What Is A Project, How T) 197.81 739.85 T
(o De\336ne And How T) 303.02 739.85 T
(o Switch It) 387.24 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(13) 522.29 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
1 F
(No available output tapes Add more tapes per instruc-) 85.75 677.33 T
(tions in Section) 85.75 665.33 T
(3.3 on page) 150.44 665.33 T
(12.) 199.29 665.33 T
(This list is not exhaustive. Most of the remaining error) 72 641.33 T
-0.12 (messages fall into the) 72 629.33 P
2 F
-0.12 (W) 160.33 629.33 P
-0.12 (arnings) 169.78 629.33 P
1 F
-0.12 ( category or require some) 201.99 629.33 P
(explicit action.) 72 617.33 T
0 12 Q
(4.0) 72 581 T
(What Is A Project, How T) 99 581 T
(o De\336ne) 239.4 581 T
72 560 306 563 C
72 562.16 306 562.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(And How T) 99 567 T
(o Switch It) 160.74 567 T
1 24 Q
(A) 72 543.33 T
1 10 Q
( project is a group of reconstruction conditions appli-) 89.32 543.33 T
-0.25 (cable to a processing of a particular dataset. E.g., the track-) 72 531.33 P
(ing done may be a road tracking or a full tracking,) 72 519.33 T
(databases used are dif) 72 507.33 T
(ferent for the collider data and Mon-) 159.24 507.33 T
(te-Carlo data, etc.) 72 495.33 T
0 F
(4.1) 72 463.33 T
(How to de\336ne a project) 99 463.33 T
1 F
(A project is de\336ned in a \336le PROJECT) 72 447.33 T
(.project, where) 227.01 447.33 T
(project is a project\325) 72 435.33 T
(s name.These \336les are located in) 148.89 435.33 T
($PRODIR/project area. The PROJECT) 72 423.33 T
(.project is an ascii) 227.82 423.33 T
(\336le containing certain tagged \336elds describing the recon-) 72 411.33 T
-0.07 (struction conditions. Current the tag words include the fol-) 72 399.33 P
(lowing:) 72 387.33 T
2 F
(PROJECT) 85.75 369.33 T
1 F
( - name of the project) 132.39 369.33 T
2 F
(LIBPROD) 85.75 354.33 T
1 F
( - de\336nes the area from which reconstruc-) 131.28 354.33 T
(tion RCP-\336les will be linked) 85.75 342.33 T
2 F
(VRSN) 85.75 327.33 T
1 F
( - version of the reconstruction code to use) 112.95 327.33 T
2 F
(P) 85.75 312.33 T
(ASS) 91.11 312.33 T
1 F
( - pass release of the reconstruction code to use) 109.44 312.33 T
2 F
(PRC) 85.75 297.33 T
1 F
( - reconctruction identi\336er for FM purposes \050like) 106.28 297.33 T
(REU for regular processing, RFU for full tracking,) 85.75 285.33 T
(etc.\051. This is decided by F) 85.75 273.33 T
(A) 188.55 273.33 T
(TMEN people.) 194.65 273.33 T
2 F
(SETUP) 85.75 258.33 T
1 F
( - which setup \336le to use for linking of the) 117.96 258.33 T
(RCP-\336les.) 85.75 246.33 T
2 F
(EXEC) 85.75 231.33 T
1 F
( - name of the executable to use.) 113.51 231.33 T
2 F
-0.06 (RCP) 85.75 216.33 P
1 F
-0.06 ( - name of the \336le to be used as d0reco_rcp \050main) 106.28 216.33 P
(RCP-\336le controlling the reconstruction\051. Y) 85.75 204.33 T
(ou can also) 256.03 204.33 T
(encounter separate tags) 85.75 192.33 T
2 F
(RCP_P) 181.49 192.33 T
1 F
( - for) 213.13 192.33 T
3 F
(parallel) 235.61 192.33 T
1 F
(mode,) 269.76 192.33 T
2 F
(RCP_Q) 85.75 180.33 T
1 F
( - for) 119.06 180.33 T
3 F
(sequential) 141.53 180.33 T
1 F
( mode, and) 182.62 180.33 T
2 F
(RSP_S) 229.26 180.33 T
1 F
( - for) 258.69 180.33 T
3 F
(stan-) 281.17 180.33 T
(d) 85.75 168.33 T
1 F
(-) 90.74 168.33 T
3 F
(alon) 94.07 168.33 T
1 F
(e mode.) 111.84 168.33 T
2 F
(FLAGS) 85.75 153.33 T
1 F
( - any special \337ags necessary for the recon-) 119.07 153.33 T
(struction. Not used.) 85.75 141.33 T
(An example of such \336le follows for) 72 117.33 T
2 F
(EXPRESS_SGI) 216.62 117.33 T
1 F
(project:) 72 105.33 T
(PROJECT EXPRESS_SGI) 337.74 677.33 T
(LIBPROD full_d0reco) 337.74 662.33 T
(VRSN 10) 337.74 647.33 T
(P) 337.74 632.33 T
(ASS 13) 342.38 632.33 T
(PRC REU) 337.74 617.33 T
(PRC REU) 337.74 602.33 T
(SETUP $PRODIR/project/reco_full/setup_10_12.csh) 337.74 587.33 T
(EXEC $PRODIR/exe/full_d0reco_10_13.x) 337.74 572.33 T
(RCP $PRODA) 337.74 557.33 T
(T/$FMLNODE/project/d0reco.rcp) 396.89 557.33 T
(FLAGS) 337.74 542.33 T
0 F
(4.2) 324 510.33 T
(How to switch a project) 351 510.33 T
1 F
(T) 324 494.33 T
(o switch a project you only need to change the project) 329.41 494.33 T
-0.54 (\336eld in the) 324 482.33 P
3 F
-0.54 ($PRODIR/r) 367.62 482.33 P
-0.54 (esour) 415 482.33 P
-0.54 (ces/r) 436.83 482.33 P
-0.54 (esour) 455.89 482.33 P
-0.54 (ce) 477.73 482.33 P
1 F
-0.54 ( \336eld. The system) 486.61 482.33 P
-0.5 (will automatically \336nish with the previous project and then) 324 470.33 P
-0.23 (switch to a new one. Please note that if a tape for the previ-) 324 458.33 P
(ous project has just been started it may take a certain) 324 446.33 T
(amount of time before the tape for the new project will be) 324 434.33 T
(submitted.) 324 422.33 T
324 379 558 382 C
324 381.16 558 381.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(5.0) 324 386 T
(How The Bookkeeping Is Done) 351 386 T
1 24 Q
(T) 324 362.33 T
1 10 Q
(his section describes in details scripts that are used to) 338.66 362.33 T
-0.07 (produce the RCP-\336les. RCP-\336les are ascii data \336le format-) 324 350.33 P
(ted so that D0 RCP-manipulation package can be used. In) 324 338.33 T
-0.15 (a context of TPM these \336les serve to enter the information) 324 326.33 P
(about the processed sets into a F) 324 314.33 T
(A) 452.62 314.33 T
(TMEN database and a) 458.73 314.33 T
(production database. This RCP-\336les are also kept in) 324 302.33 T
3 F
($PRODIR/pdbkd) 324 290.33 T
1 F
(in a mer) 394.78 290.33 T
(ged form \050per 6 days period\051.) 427.35 290.33 T
0 F
(5.1) 324 258.33 T
(RCP- creator) 351 258.33 T
5 F
(conv_prepare_rcp) 414.58 258.33 T
1 F
( Calling sequence: conv_prepare_rcp <vsn> <pdb area>) 324 235.33 T
(<proman linktemps>) 324 223.33 T
(The overall purpose of this script is to make rcp \336les for) 324 199.33 T
(the processed datasets on the given vsn, and to send them) 324 187.33 T
(successfully to D0FS.) 324 175.33 T
0 9 Q
(5.1.1) 324 152 T
(Updating stat.dir and stat.rcp.dir) 351 152 T
(.) 489.33 152 T
1 10 Q
(A method of locking \336les while appending information to) 324 127.33 T
-0.39 (them is used frequently throughout this script. This is done) 324 115.33 P
(with the source code) 324 103.33 T
3 F
(append.x) 408.93 103.33 T
1 F
( by setting the environmen-) 445.29 103.33 T
FMENDPAGE
%%EndPage: "13" 14
%%Page: "14" 14
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(How The Bookkeeping Is Done) 231.33 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(14) 54 59.95 T
0 9 Q
( of) 65.11 59.95 T
0 10 Q
( 19) 76.1 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
1 10 Q
(tal variable T) 54 677.33 T
(ARGET to the \336le that is to be updated, and) 106.49 677.33 T
(ARROW to the temporary \336le that is to be appended into) 54 665.33 T
(the T) 54 653.33 T
(ARGET \336le. The \336rst two instances of this are used) 74.02 653.33 T
(to update the stat.dir in the year directory of pdbkd, and) 54 641.33 T
(the stat.rcp.dir in the local week directory of) 54 629.33 T
3 F
(pdbkd.) 233.86 629.33 T
0 9 Q
(5.1.2) 54 606 T
(Finding out processed datasets.) 81 606 T
1 10 Q
(The csh script) 54 581.33 T
3 F
(outpdb_r) 112.57 581.33 T
(eport.csh) 148.85 581.33 T
1 F
( is used to put the names) 185.77 581.33 T
(of each processed dataset on the given vsn into the \336le) 54 569.33 T
-0.05 (de\336ned by the environmental variable) 54 557.33 P
2 F
-0.05 (OUTSET) 207.8 557.33 P
1 F
-0.05 (. This \336le) 247.61 557.33 P
(is used throughout this procedure.) 54 545.33 T
0 9 Q
(5.1.3) 54 522 T
(Preparing ftp \336les and executable rcp removal) 81 522 T
(\336les.) 81 510 T
1 10 Q
(The two environmentally de\336ned \336les) 54 485.33 T
2 F
(DELST) 208.62 485.33 T
(A) 240.66 485.33 T
1 F
( and) 247.87 485.33 T
2 F
(DELDST) 54 473.33 T
1 F
( are created to make executable \336les to remove) 93.99 473.33 T
-0.05 (rcp and dst \336les after they have been copied to D0FS. The) 54 461.33 P
(environmentally de\336ned \336les for ftp to D0FS are de\336ned) 54 449.33 T
(as follows:) 54 437.33 T
2 F
(OUTDLG) 100.08 437.33 T
1 F
( - Sends dst rcp \336les to) 143.4 437.33 T
(D0$DA) 54 425.33 T
(T) 84.53 425.33 T
(A$BUFFER,) 89.84 425.33 T
2 F
(OUTSLG) 144.82 425.33 T
1 F
( - Sends sta rcp \336les to) 186.48 425.33 T
(usr$root:[fmd0.rcpfarmin],) 54 413.33 T
3 F
(OUTRDB) 164.75 413.33 T
1 F
( - Sends sta and dst) 204.17 413.33 T
(rcp \336les to usr$root:[prod_db.prod_db.sgidata] if not) 54 401.33 T
-0.2 (monte carlo \336les. If they are monte carlo \336les, they\325re sent) 54 389.33 P
(to usr$root:[prod_db.prod_db.mc]) 54 377.33 T
0 9 Q
(5.1.4) 54 354 T
( Making individual rcp \336les.) 81 354 T
1 10 Q
(The rcp \336les are now made into the designated proman) 54 329.33 T
-0.03 (linktemps area. If they\325re monte carlo \336les, then the script) 54 317.33 P
-0.45 (fm_mcrcp.csh is used to make these rcp \336les. If they\325re not) 54 305.33 P
-0.03 (monte carlo, the script) 54 293.33 P
3 F
-0.03 (fm_r) 145.75 293.33 P
-0.03 (cp.csh) 164.26 293.33 P
1 F
-0.03 ( is used. The only dif) 189.52 293.33 P
-0.03 (fer-) 273.58 293.33 P
(ence between these two scripts is in making the generic) 54 281.33 T
(names.) 54 269.33 T
0 9 Q
(5.1.5) 54 246 T
( Making merged rcp \336les.) 81 246 T
1 10 Q
(The script) 54 221.33 T
3 F
(r) 96.75 221.33 T
(cp_mer) 100.26 221.33 T
(ge) 129.87 221.33 T
1 F
( is used to make mer) 139.3 221.33 T
(ged rcp \336les.) 221.57 221.33 T
-0.4 (This script is called twice, once to make the mer) 54 209.33 P
-0.4 (ged sta rcp) 243.41 209.33 P
-0.05 (\336les, and once to make the mer) 54 197.33 P
-0.05 (ged dst rcp \336les. There can) 178.13 197.33 P
(be at most 40 individual rcp \336les mer) 54 185.33 T
(ged into one mer) 202.9 185.33 T
(ged) 270.17 185.33 T
(rcp \336le. If there are more than 40 datasets on the given) 54 173.33 T
(vsn, then there will be more than one mer) 54 161.33 T
(ged \336le. The) 220.09 161.33 T
(naming convention used to distinguish multiple mer) 54 149.33 T
(ged) 262.05 149.33 T
(\336les is \324..._1_...\324, \324..._2_...\324, etc.) 54 137.33 T
0 9 Q
(5.1.6) 306 678 T
(T) 333 678 T
(ransfer to D0FS.) 338 678 T
1 10 Q
(Now D0FS is checked to be up. If not, the process will) 306 653.33 T
(loop until it is up. When D0FS is ready) 306 641.33 T
(, ftp is executed) 462.21 641.33 T
(with the previously made ftp \336les. When the transfer is) 306 629.33 T
(done, the script) 306 617.33 T
3 F
(check_transfer_r) 369.85 617.33 T
(cp) 437.76 617.33 T
1 F
( is called three time to) 447.19 617.33 T
(check the transfers. The \336rst time it is called to check the) 306 605.33 T
-0.11 (transfer of sta rcp \336les. Each sta rcp \336le successfully trans-) 306 593.33 P
(ferred has it\325) 306 581.33 T
(s \336lename entered in the executable \336le) 356.51 581.33 T
(DELST) 306 569.33 T
(A to be deleted. The second time it is called to) 336.29 569.33 T
(check the transfer of dst rcp \336les. The successfully trans-) 306 557.33 T
(ferred \336les have their \336lename\325) 306 545.33 T
(s entered into DELDST to) 430.9 545.33 T
(be deleted. The third time it is called to check the transfer) 306 533.33 T
(of the mer) 306 521.33 T
(ged rcp \336les. If successful, their names are) 346.9 521.33 T
(entered into DELFM to be deleted.) 306 509.33 T
0 9 Q
(5.1.7) 306 486 T
(Updating more info into pdbkd.) 333 486 T
1 10 Q
-0.11 (The script) 306 461.33 P
3 F
-0.11 (checkmark.csh) 348.53 461.33 P
1 F
-0.11 ( is called twice, once for sta, and) 407.64 461.33 P
(once for dst, to append the staf.dir and dstf.dir in the year) 306 449.33 T
(directory in pdbkd. This is done using the T) 306 437.33 T
(ARGET and) 480.37 437.33 T
-0.55 (ARROW appending procedure previously described. Then) 306 425.33 P
(the script) 306 413.33 T
3 F
(update_dststa.csh) 345.42 413.33 T
1 F
( is similarly called twice to) 416.77 413.33 T
(update in the week directory of pdbkd. Here, the) 306 401.33 T
3 F
( stat.dir) 499.73 401.33 T
(,) 529.73 401.33 T
(dstf.dir) 306 389.33 T
(, fm.dir) 333.49 389.33 T
(, stat.r) 361.54 389.33 T
(cp, staf.r) 386.99 389.33 T
(cp) 421.89 389.33 T
1 F
( and) 431.32 389.33 T
3 F
(dstf.r) 450.75 389.33 T
(cp) 471.21 389.33 T
1 F
( \336les are) 480.64 389.33 T
(appended.) 306 377.33 T
0 9 Q
(5.1.8) 306 354 T
(Record \336les for production database) 333 354 T
1 10 Q
-0.17 (Here, a \336le named) 306 329.33 P
3 F
-0.17 (RECO_SGI.<curr) 381.1 329.33 P
-0.17 (ent-date>) 453.82 329.33 P
1 F
-0.17 (, has added) 493.32 329.33 P
-0.12 (to it the name of each processed dataset on the given VSN) 306 317.33 P
-0.02 (and the number of records in it. These \336les get transferred) 306 305.33 P
(over to D0FSevery day by a process independent of) 306 293.33 T
3 F
(conv_pr) 306 281.33 T
(epar) 338.38 281.33 T
(e_r) 356.33 281.33 T
(cp) 369.29 281.33 T
1 F
(. The process that does this transfer is) 378.72 281.33 T
3 F
($PRODIR/exe/copy_r) 306 269.33 T
(cp_mer) 393.33 269.33 T
(ge) 422.94 269.33 T
1 F
(.) 432.37 269.33 T
0 9 Q
(5.1.9) 306 246 T
(Delete rcp \336les) 333 246 T
1 10 Q
(Now the rcp \336le are deleted from their) 306 221.33 T
3 F
($PRODA) 306 209.33 T
(T/pr) 343.38 209.33 T
(oman/linktemps) 360.23 209.33 T
1 F
( areas.) 423.52 209.33 T
0 9 Q
(5.1.10) 306 186 T
(Rename EXPRESS dst \336les in buffer) 333 186 T
1 10 Q
(If the datasets are EXP stream, then the dst \336les in the) 306 161.33 T
(buf) 306 149.33 T
(fer in d0fs are renamed to have the pre\336x AAA_.) 319.14 149.33 T
FMENDPAGE
%%EndPage: "14" 15
%%Page: "15" 15
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Graphics User Interface \050GUI\051 based on SGI Explorer) 202.62 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(15) 522.29 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
(5.2) 72 677.33 T
(How The RECO Histograms And) 99 677.33 T
(Summaries Are Kept) 99 666.33 T
1 F
(T) 72 643.33 T
(wo csh scripts and one fortran source \336le are used in the) 77.41 643.33 T
(process of mer) 72 631.33 T
(ging. The overall goal is to mer) 130.66 631.33 T
(ge together) 256.23 631.33 T
(all the histogram or summary \336les of similar runs. In the) 72 619.33 T
-0.4 (case of histograms, the \336les to be mer) 72 607.33 P
-0.4 (ged are located in the) 220.02 607.33 P
(spool00, spool01, and spool02) 72 595.33 T
3 F
(histograms) 196.38 595.33 T
1 F
(directories) 243.31 595.33 T
(\050e.g.,) 72 583.33 T
3 F
(/spool00/dzer) 94.76 583.33 T
(o/fnsfe_0/histograms\051) 148.81 583.33 T
1 F
(and the current) 235.99 583.33 T
(week directory of) 72 571.33 T
3 F
(/pr) 144.99 571.33 T
(oman/hstdb.) 156.28 571.33 T
1 F
( In the case of summa-) 205.43 571.33 T
(ries, the \336les to be mer) 72 559.33 T
(ged are located in the spool00,) 162.87 559.33 T
(spool01, and spool02) 72 547.33 T
3 F
(summaries d) 159.73 547.33 T
1 F
(irectories \050e.g.,) 210.53 547.33 T
3 F
(/spool02/dzer) 72 535.33 T
(o/fnsfe_2/summaries) 126.05 535.33 T
1 F
(\051 and the current week) 208.79 535.33 T
(directory of /) 72 523.33 T
3 F
(pr) 124.18 523.33 T
(oman/sumdb) 132.7 523.33 T
1 F
(. This mer) 183.78 523.33 T
(ging is done on a) 224.41 523.33 T
-0.12 (daily basis. The general algorithm for mer) 72 511.33 P
-0.12 (ging histograms) 239.6 511.33 P
(and summaries is the same. For mer) 72 499.33 T
(ging histograms, the) 215.89 499.33 T
(two csh scripts used are) 72 487.33 T
3 F
(hist_mer) 169.43 487.33 T
(ge.csh) 204.04 487.33 T
1 F
( and) 229.29 487.33 T
3 F
(hist_mer) 72 475.33 T
(ge_r) 106.61 475.33 T
(emote.csh) 124.56 475.33 T
1 F
(. These scripts are located in) 164.25 475.33 T
3 F
($PRODIR/exe) 72 463.33 T
1 F
(. The fortran source code is) 129.17 463.33 T
3 F
(h_gram_-) 241.02 463.33 T
-0.03 (mer) 72 451.33 P
-0.03 (ge.x.) 87.17 451.33 P
1 F
-0.03 ( For mer) 106.04 451.33 P
-0.03 (ging summaries, the two csh scripts used) 140.22 451.33 P
(are) 72 439.33 T
3 F
(summ_mer) 86.7 439.33 T
(ge.csh) 130.19 439.33 T
1 F
( and) 155.44 439.33 T
3 F
(summ_mer) 174.87 439.33 T
(ge_r) 218.36 439.33 T
(emote.csh.) 236.31 439.33 T
1 F
( The) 278.5 439.33 T
(fortran source code is) 72 427.33 T
3 F
(sum_mer) 160.81 427.33 T
(ge.x) 197.08 427.33 T
1 F
(. All of these \336les are) 213.45 427.33 T
(located in) 72 415.33 T
3 F
($PRODIR/exe) 113.64 415.33 T
1 F
(.) 170.81 415.33 T
0 9 Q
(5.2.1) 72 392 T
(hist_merge.csh - summ_merge.csh) 99 392 T
1 10 Q
(The \336rst script called using crontab is either) 72 367.33 T
3 F
(hist_mer) 72 355.33 T
(ge.csh) 106.61 355.33 T
1 F
(, in the case of histograms, or) 131.87 355.33 T
3 F
-0.3 (summ_mer) 72 343.33 P
-0.3 (ge.csh) 115.49 343.33 P
1 F
-0.3 (, in the case of summaries. The \336rst thing) 140.74 343.33 P
(this script does is to check the \336le) 72 331.33 T
3 F
($PRODIR/r) 72 319.33 T
(esour) 119.37 319.33 T
(ces/r) 141.21 319.33 T
(esour) 160.27 319.33 T
(ce) 182.11 319.33 T
1 F
( to \336nd out which nodes are) 190.99 319.33 T
(labeled) 72 307.33 T
2 F
(F) 103.36 307.33 T
(ARMLET) 108.73 307.33 T
1 F
(. If any are found, the \336les) 151.86 307.33 T
3 F
-0.19 (r) 72 295.33 P
-0.19 (esour) 75.52 295.33 P
-0.19 (ce.<node_name>) 97.36 295.33 P
1 F
-0.19 ( in the same directory are checked) 168.3 295.33 P
(for each such node to \336nd out the directory in which the) 72 283.33 T
(\336les to be mer) 72 271.33 T
(ged reside. Then, using rsh,) 128.73 271.33 T
3 F
(hist_mer) 72 259.33 T
(ge_r) 106.61 259.33 T
(emote.csh) 124.56 259.33 T
1 F
(in the case of histograms, or) 166.75 259.33 T
3 F
(summ_mer) 72 247.33 T
(ge_r) 115.49 247.33 T
(emote.csh) 133.44 247.33 T
1 F
(, in the case of summaries, is) 173.12 247.33 T
-0.44 (executed remotely on their nodes for each node found. The) 72 235.33 P
(\336rst ar) 72 223.33 T
(gument for this call is the directory name and the) 97.64 223.33 T
(second ar) 72 211.33 T
(gument is the node name.) 109.84 211.33 T
0 9 Q
(5.2.2) 72 188 T
( hist_merge_remote.csh -) 99 188 T
(summ_merge_remote.csh) 99 176 T
1 10 Q
(The goal of these scripts is to set up an environment to) 72 151.33 T
(execute the mer) 72 139.33 T
(ging source \336les. In principle, both) 135.1 139.33 T
3 F
-0.31 (h_gram_mer) 72 127.33 P
-0.31 (ge.x) 123.26 127.33 P
1 F
-0.31 (and) 141.82 127.33 P
3 F
-0.31 (sum_mer) 158.45 127.33 P
-0.31 (ge.x) 194.71 127.33 P
1 F
-0.31 ( are used the same way) 211.09 127.33 P
-0.31 (.) 301.31 127.33 P
(They each take in two environmental variables. The \336rst) 72 115.33 T
(variable has the name of a \336le which contains a list of the) 72 103.33 T
(\336lenames to be mer) 324 677.33 T
(ged. The second variable is the name) 402.38 677.33 T
(of the \336le in which the \336nal mer) 324 665.33 T
(ged output is to be put) 452.35 665.33 T
(into. For histograms, the name of the \336rst environmental) 324 653.33 T
(variable is) 324 641.33 T
2 F
(HIST_LIST) 367.86 641.33 T
1 F
(, and for the second,) 418.78 641.33 T
2 F
(HIST_MERGE) 324 629.33 T
1 F
( is used. For summaries, the \336rst variable) 390.64 629.33 T
-0.18 (is) 324 617.33 P
2 F
-0.18 (SUM_IN) 332.99 617.33 P
1 F
-0.18 (, and the second is) 371.3 617.33 P
2 F
-0.18 (SUM_OUT) 446.46 617.33 P
1 F
-0.18 (. The \336rst thing) 494.58 617.33 P
(the) 324 605.33 T
3 F
(*r) 338.71 605.33 T
(emote.csh) 347.23 605.33 T
1 F
( \050where * stands for hist or summ\051 script) 386.92 605.33 T
(does is get each run number from the \336les in the directory) 324 593.33 T
(it was given as it\325) 324 581.33 T
(s \336rst ar) 393.96 581.33 T
(gument. It then loops over each) 425.98 581.33 T
(run number) 324 569.33 T
(. For each run number) 369.8 569.33 T
(, it\325) 457.95 569.33 T
(s WM tape label is) 471.28 569.33 T
(found. This is used to \336nd out which stream the run has.) 324 557.33 T
(Then, each \336le name found with this run number is put) 324 545.33 T
(into a \336le with the naming convention) 324 533.33 T
3 F
(<str) 324 521.33 T
(eam>_<run_no>_HIST) 340.93 521.33 T
(.TEMP) 437.05 521.33 T
(.<node_name>) 464.35 521.33 T
1 F
( . This) 526.42 521.33 T
(\336lename will be de\336ned as the \336rst environmental vari-) 324 509.33 T
(able. Then the current week directory in) 324 497.33 T
3 F
(/pr) 486.64 497.33 T
(oman/hstdb) 497.93 497.33 T
1 F
(area, in the case of histograms, or) 324 485.33 T
3 F
(/pr) 460.83 485.33 T
(oman/sumdb) 472.13 485.33 T
1 F
( area, in) 523.21 485.33 T
(the case of summaries, is checked if there are any \336les of) 324 473.33 T
(the current run number to be mer) 324 461.33 T
(ged residing in them. If) 455.94 461.33 T
(there are, their names are also put into the) 324 449.33 T
3 F
(*HIST) 493.87 449.33 T
(.TEMP*) 519.22 449.33 T
1 F
(\336le mentioned above. If none are found, the directory of) 324 437.33 T
-0.22 (the previous week is checked in the same manner) 324 425.33 P
-0.22 (. The \336le-) 519.3 425.33 P
(name for the second environmental variable is given the) 324 413.33 T
(naming convention) 324 401.33 T
3 F
(<str) 324 389.33 T
(eam>_<run_no>.HIST) 340.93 389.33 T
(.<node_name>) 434.55 389.33 T
1 F
( and is in the) 496.61 389.33 T
(current week directory of) 324 377.33 T
3 F
(/pr) 427.79 377.33 T
(oman/hstdb,) 439.09 377.33 T
1 F
( in the case of) 488.23 377.33 T
(histograms, or) 324 365.33 T
3 F
(/pr) 383.69 365.33 T
(oman/sumdb) 394.98 365.33 T
1 F
(, in the case of summaries.) 446.06 365.33 T
-0.29 (The mer) 324 353.33 P
-0.29 (ging source \336le is now executed. If it\325) 357.11 353.33 P
-0.29 (s successful,) 506.11 353.33 P
-0.41 (then all the individual \336les that were mer) 324 341.33 P
-0.41 (ged are deleted. If) 485 341.33 P
(not successful, the \336les are not deleted, and a message is) 324 329.33 T
(appended to the \336le) 324 317.33 T
3 F
(/pr) 405.05 317.33 T
(oman/hstdb/err_hist,) 416.35 317.33 T
1 F
( in the case of) 499.92 317.33 T
(histograms, or) 324 305.33 T
3 F
( /pr) 381.19 305.33 T
(oman/sumdb/err_sum) 394.98 305.33 T
1 F
(, in the case of) 482.15 305.33 T
(summaries.) 324 293.33 T
0 12 Q
(6.0) 324 257 T
-0.46 (Graphics User Interface \050GUI\051 based) 351 257 P
324 236 558 239 C
324 238.16 558 238.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(on SGI Explorer) 351 243 T
0 10 Q
(6.1) 324 207.33 T
(Introduction.) 351 207.33 T
1 F
-0.49 (The Graphics User Interface was developed to simplify the) 324 184.33 P
(monitoring for a person not familiar with the TPM intrin-) 324 172.33 T
(sics. SGI Explorer system is used along with Motif and) 324 160.33 T
(SGI GL. For more information about Explorer) 324 148.33 T
(, please) 509.31 148.33 T
(refer to Explorer User) 324 136.33 T
(\325) 412.34 136.33 T
(s Guide and Explorer Module W) 415.12 136.33 T
(rit-) 545.46 136.33 T
(er) 324 124.33 T
(\325) 332.14 124.33 T
(s Guide.) 334.91 124.33 T
FMENDPAGE
%%EndPage: "15" 16
%%Page: "16" 16
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Graphics User Interface \050GUI\051 based on SGI Explorer) 184.62 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(16) 54 59.95 T
0 9 Q
( of) 65.11 59.95 T
0 10 Q
( 19) 76.1 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
1 10 Q
(Production. map is a collection of modules performing a) 54 677.33 T
(speci\336c monitoring task. There are 8 modules currently) 54 665.33 T
(,) 274.86 665.33 T
(their functions are presented below:) 54 653.33 T
0 F
(6.2) 54 621.33 T
(ControlPanel Module.) 81 621.33 T
1 F
(It provides two option menus. One is) 54 598.33 T
3 F
(Farmnodes) 204.47 598.33 T
1 F
(, contain-) 249.99 598.33 T
(ing all the logical machines available. The other is) 54 586.33 T
3 F
(Utili-) 257.75 586.33 T
(ties,) 54 574.33 T
1 F
( providing a node-independent tool displaying job) 70.38 574.33 T
(status or performing a task.) 54 562.33 T
3 F
(Farmnodes) 67.75 544.33 T
1 F
( fnstfj fnsfe_0 fnsfe_1 fnsfe_2) 113.27 544.33 T
3 F
(Utilities) 67.75 529.33 T
1 F
(:) 99.96 529.33 T
4 11 Q
(\245) 54 514.33 T
3 10 Q
(tpm_disp) 67.75 514.33 T
1 F
(: displays relevant information from jobs.log) 104.39 514.33 T
(in 80-column format.) 67.75 502.33 T
4 11 Q
(\245) 54 487.33 T
3 10 Q
(tpm_wide) 67.75 487.33 T
1 F
(: displays relevant information from) 106.61 487.33 T
3 F
(jobs.log) 253.46 487.33 T
1 F
(in 132-column format) 67.75 475.33 T
4 11 Q
(\245) 54 460.33 T
3 10 Q
(tpm_rsr) 67.75 460.33 T
(c) 99.03 460.33 T
1 F
(: displays resource \336le) 103.46 460.33 T
4 11 Q
(\245) 54 445.33 T
3 10 Q
(PickupAll) 67.75 445.33 T
1 F
(: see CopyDST) 107.16 445.33 T
4 11 Q
(\245) 54 430.33 T
3 10 Q
(PickupOne) 67.75 430.33 T
1 F
(: see CopyDST) 112.15 430.33 T
(For) 54 406.33 T
3 F
(tpm_disp) 70.38 406.33 T
1 F
( and) 107.03 406.33 T
3 F
(tpm_wide) 126.46 406.33 T
1 F
(, the colors are used to show) 165.33 406.33 T
(dif) 54 394.33 T
(ferent status of a given job.) 64.92 394.33 T
4 11 Q
(\245) 54 376.33 T
1 10 Q
(GREEN:) 67.75 376.33 T
3 F
(ended) 106.33 376.33 T
4 11 Q
(\245) 54 361.33 T
1 10 Q
(CY) 67.75 361.33 T
(AN:) 80.52 361.33 T
3 F
(inqueued) 100.23 361.33 T
4 11 Q
(\245) 54 346.33 T
1 10 Q
(RED:) 67.75 346.33 T
3 F
(failed_on_insp) 93.01 346.33 T
4 11 Q
(\245) 54 331.33 T
1 10 Q
(MAGENT) 67.75 331.33 T
(A:) 109.69 331.33 T
3 F
(success) 122.18 331.33 T
4 11 Q
(\245) 54 316.33 T
1 10 Q
(YELLOW) 67.75 316.33 T
(: all the others except the above) 109.56 316.33 T
0 F
(6.3) 54 284.33 T
(Subcontrol Module.) 81 284.33 T
1 F
(This module provides a menu for each logical machine in) 54 261.33 T
(the ControlPanel module.) 54 249.33 T
0 F
(6.4) 54 217.33 T
(Farmnodes Option Menu.) 81 217.33 T
4 11 Q
(\245) 54 201.33 T
3 10 Q
(T) 67.75 201.33 T
(apes-->MonitorT) 72.38 201.33 T
(ape) 141.5 201.33 T
1 F
(: displays tape labels and drive) 155.94 201.33 T
(names if the tapes are currently mounted and the) 67.75 189.33 T
-0.11 (inspooler and the outspooler are running on the logical) 67.75 177.33 P
(machine.) 67.75 165.33 T
4 11 Q
(\245) 54 150.33 T
3 10 Q
(Resour) 67.75 150.33 T
(ces-->MonitorResour) 95.69 150.33 T
(ce:) 182.56 150.33 T
1 F
( it displays the) 194.76 150.33 T
3 F
(mode) 255.29 150.33 T
1 F
-0.03 (\050) 67.75 138.33 P
2 F
-0.03 (P) 71.07 138.33 P
-0.03 (ARALLEL) 76.44 138.33 P
1 F
-0.03 (,) 124.75 138.33 P
2 F
-0.03 (SEQUENTIAL) 129.73 138.33 P
1 F
-0.03 (, or) 195.26 138.33 P
2 F
-0.03 (ST) 211.03 138.33 P
-0.03 (ANDALONE) 222.51 138.33 P
1 F
-0.03 (\051,) 279.7 138.33 P
3 F
(status) 67.75 126.33 T
1 F
( \050) 91.07 126.33 T
2 F
(F) 96.9 126.33 T
(ARMLET) 102.27 126.33 T
1 F
(,) 145.39 126.33 T
2 F
(UNA) 150.39 126.33 T
(V) 170.75 126.33 T
(AILABLE) 176.68 126.33 T
1 F
(, or) 221.66 126.33 T
2 F
(READY) 237.48 126.33 T
1 F
(\051) 273.01 126.33 T
-0.12 (and) 67.75 114.33 P
3 F
-0.12 (pr) 84.56 114.33 P
-0.12 (oject) 93.07 114.33 P
1 F
-0.12 ( for the logical machine. Also it can change) 112.5 114.33 P
(the any of these \336elds. Just type in the text slot you) 67.75 102.33 T
(want to change. Remember to type from LEFTMOST) 319.74 677.33 T
(of the slot and type <RETURN> when you have \336n-) 319.74 665.33 T
(ished.) 319.74 653.33 T
4 11 Q
(\245) 306 638.33 T
3 10 Q
(W) 319.74 638.33 T
(orkerNodes-->MonitorW) 327.15 638.33 T
(rknodes) 427.73 638.33 T
1 F
(: it checks if) 459.37 638.33 T
(d0reco.x is running on worker nodes attached to the) 319.74 626.33 T
(logical machine. Three colors are used to display dif-) 319.74 614.33 T
(ferent status of the worker node.) 319.74 602.33 T
(GREEN: running \050CPU time for d0reco.x increases) 319.74 587.33 T
(within 5 seconds\051) 319.74 575.33 T
(RED: idle \050no d0reco.x is running\051) 319.74 560.33 T
(YELLOW) 319.74 545.33 T
(: hung_5s \050CPU time for d0reco.x does not) 361.56 545.33 T
(change within 5 seconds\051) 319.74 533.33 T
4 11 Q
(\245) 306 518.33 T
3 10 Q
(ST) 319.74 518.33 T
(Asize-->MonitorST) 329.56 518.33 T
(Asize) 406.64 518.33 T
1 F
(: it has two options \050) 427.73 518.33 T
2 F
(T) 509.64 518.33 T
(imer) 516.13 518.33 T
-0.22 (On) 319.74 506.33 P
1 F
-0.22 (and) 335.36 506.33 P
2 F
-0.22 (T) 352.07 506.33 P
-0.22 (imer Off) 358.55 506.33 P
1 F
-0.22 (\051 and two text slots \050) 395.24 506.33 P
2 F
-0.22 (Delay) 476.04 506.33 P
1 F
-0.22 ( and) 500.47 506.33 P
2 F
-0.22 (Cur) 519.46 506.33 P
1 F
-0.22 (-) 536.67 506.33 P
2 F
(r) 319.74 494.33 T
(ent V) 324 494.33 T
(alue) 346.12 494.33 T
1 F
(\051. When) 363.89 494.33 T
2 F
(T) 398.58 494.33 T
(imer On) 405.07 494.33 T
1 F
( is selected, it will be) 440.88 494.33 T
(triggered by a T) 319.74 482.33 T
(imer module. The T) 383.51 482.33 T
(imer module con-) 463.11 482.33 T
(tains Start V) 319.74 470.33 T
(alue, End V) 368.61 470.33 T
(alue, Step, Delay and Current) 414.96 470.33 T
(V) 319.74 458.33 T
(alue \050this module is part of the Explorer library dis-) 325.85 458.33 T
(tributed with Explorer\051. When T) 319.74 446.33 T
(imer Of) 449.02 446.33 T
(f is selected,) 480.21 446.33 T
(the module will \336re only if ST) 319.74 434.33 T
(Asize in Subcontrol is) 440.55 434.33 T
(selected. Y) 319.74 422.33 T
(ou can change the Delay value as you like.) 363.15 422.33 T
(The module checks the ST) 319.74 410.33 T
(A \336le size being processed) 425.54 410.33 T
(every 3 seconds until the 30% of the Delay value is) 319.74 398.33 T
(reached. If the Delay value is 30 seconds the Module) 319.74 386.33 T
(will sample the ST) 319.74 374.33 T
(A \336le size every 3 seconds, totaling) 394.18 374.33 T
-0.05 (0.3*30/3 times. All these values can be changed easily) 319.74 362.33 P
(by typing in the corresponding text slots or changing) 319.74 350.33 T
(the dials.) 319.74 338.33 T
0 F
(6.5) 306 306.33 T
(Utilities Module.) 333 306.33 T
1 F
(Provides a list of options in ControlPanel Utilities menu) 306 283.33 T
(\050refer to ControlPanel section\051. It also contains two text) 306 271.33 T
(slots to display related information about the farm nodes.) 306 259.33 T
(The function of each text slot is outlined below:) 306 247.33 T
4 11 Q
(\245) 306 229.33 T
3 10 Q
(Physical Nodes) 319.74 229.33 T
1 F
(: a physical node name) 381.65 229.33 T
4 11 Q
(\245) 306 214.33 T
3 10 Q
(Pr) 319.74 214.33 T
(ocesses) 329.37 214.33 T
1 F
(: a UNIX shell command) 359.34 214.33 T
0 F
(6.6) 306 182.33 T
(CopyDST Module.) 333 182.33 T
4 11 Q
(\245) 306 166.33 T
3 10 Q
(PickupOne) 319.74 166.33 T
1 F
(: It copies failed DST) 364.15 166.33 T
(s to a speci\336c output) 449.5 166.33 T
(tape. Just type in label of the tape to which DST) 319.74 154.33 T
(s were) 511.42 154.33 T
(copied in failure.) 319.74 142.33 T
4 11 Q
(\245) 306 127.33 T
3 10 Q
(PickupAll) 319.74 127.33 T
1 F
(: It copies all failed DST) 359.16 127.33 T
(s on all machines.) 457.01 127.33 T
FMENDPAGE
%%EndPage: "16" 17
%%Page: "17" 17
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM Production Manager Scripts List) 235.1 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(17) 522.29 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
(6.7) 72 677.33 T
(How T) 99 677.33 T
(o Set Up And Run Production Map.) 128.24 677.33 T
4 11 Q
(\245) 72 661.33 T
1 10 Q
(Add or modify \336le) 85.75 661.33 T
3 F
(.explor) 162.92 661.33 T
(err) 190.59 661.33 T
(c) 202.43 661.33 T
1 F
( in your home directory) 206.87 661.33 T
(.) 300.6 661.33 T
(For an example look for it in) 85.75 649.33 T
3 F
(~denisenk) 203.17 649.33 T
1 F
( on D0SGI.) 243.55 649.33 T
4 11 Q
(\245) 72 634.33 T
1 10 Q
(Add the following to your) 85.75 634.33 T
3 F
( .login) 190.13 634.33 T
1 F
( \336le:) 215.67 634.33 T
(setenv) 72 610.33 T
(D0F) 100.04 610.33 T
(ARMHOME /d0sgi0/data0/d0farm_monitor) 117.07 610.33 T
(set path=\050\134$path /d0sgi0/data0/d0farm_monitor\051) 72 598.33 T
4 11 Q
(\245) 72 580.33 T
1 10 Q
(T) 85.75 580.33 T
(ype) 91.15 580.33 T
3 F
(explor) 85.75 565.33 T
(er) 110.91 565.33 T
1 F
(Note: if it doesn\325) 85.75 550.33 T
(t work de\336ne) 153.58 550.33 T
3 F
(alias explor) 85.75 535.33 T
(er /usr/explor) 132.85 535.33 T
(er/bin/explor) 187.17 535.33 T
(er) 238.99 535.33 T
1 F
(or do) 85.75 520.33 T
3 F
(setup minexp) 85.75 505.33 T
4 11 Q
(\245) 72 490.33 T
1 10 Q
(When Explorer menus appears, click on) 85.75 490.33 T
3 F
(Categories) 248.12 490.33 T
1 F
( in) 291.98 490.33 T
(localhost window and choose) 85.75 478.33 T
3 F
(Pr) 206.22 478.33 T
(oduction,) 215.84 478.33 T
1 F
( and a new) 253.32 478.33 T
(menu titled) 85.75 466.33 T
3 F
( Pr) 131 466.33 T
(oduction) 143.12 466.33 T
1 F
( will appear) 178.1 466.33 T
(. Press left mouse) 224.74 466.33 T
(button, dragging production \050highlighted\051 in the menu) 85.75 454.33 T
(into the Map Editor window) 85.75 442.33 T
(, and drop it. Production) 198.36 442.33 T
(map will automatically start executing \050) 85.75 430.33 T
3 F
(\336ring) 244.81 430.33 T
1 F
( in) 266.46 430.33 T
(Explorer slang\051.) 85.75 418.33 T
(In addition, the control panels of all modules have been) 72 394.33 T
-0.3 (carefully arranged in such a manner that all of them can be) 72 382.33 P
(spotted easily while minimizing overlap between them.) 72 370.33 T
(Just place the Map Editor in the lower left corner of the) 72 358.33 T
-0.22 (screen and drop production.map in the upper left corner of) 72 346.33 P
-0.19 (the Map Editor) 72 334.33 P
-0.19 (. Of course, you can always rearrange them) 131.58 334.33 P
(as you wish.) 72 322.33 T
2 F
(Important:) 72 298.33 T
1 F
( When you type in a text slot, be sure to press) 119.74 298.33 T
-0.29 (<return> after you have \336nished typing. When a module is) 72 286.33 P
(\336ring, its windows will not resize and the module in the) 72 274.33 T
(Map Editor will be yellow on a color monitor) 72 262.33 T
(.) 253.56 262.33 T
-0.33 (A special account \050username) 72 238.33 P
3 F
-0.33 (operator) 188.35 238.33 P
1 F
-0.33 (, password .......\051 has) 222.94 238.33 P
(been set up for the purpose of using this GUI. The execut-) 72 226.33 T
(ables and source codes are in /d0sgi0/data0/d0farm_moni-) 72 214.33 T
(tor directory on D0SGI. The source codes are in C) 72 202.33 T
(programming language.) 72 190.33 T
0 12 Q
(7.0) 72 154 T
(TPM Production Manager Scripts) 99 154 T
72 133 306 136 C
72 135.16 306 135.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(List) 99 140 T
1 24 Q
(T) 72 112.33 T
1 10 Q
(his description starts with the top level script and) 86.66 112.33 T
(describes it in a tree level fashion.) 72 100.33 T
0 F
(7.1) 324 677.33 T
(tpm_submit_job) 351 677.33 T
1 F
(\050in) 324 654.33 T
3 F
($PRODIR/tpm) 337.6 654.33 T
1 F
(\051. T) 396.45 654.33 T
(op level scripts; handles the job sub-) 410.18 654.33 T
(mission to all the nodes; maintains process table; submits) 324 642.33 T
(auxiliary scripts \050like) 324 630.33 T
3 F
(start_\336lter_job) 411.44 630.33 T
1 F
(\051.) 471.42 630.33 T
0 F
(7.2) 324 598.33 T
(start_\336lter_job) 351 598.33 T
1 F
-0.03 (\050in) 324 582.33 P
3 F
-0.03 ($PRODIR/tpm) 337.57 582.33 P
1 F
-0.03 (\051. Checks that the tape with \336ltered \336les) 396.42 582.33 P
(is mounted on fnsfe; in case the tape is \336nished starts a) 324 570.33 T
(script that creates RCP-\336les for the \336ltered datasets on) 324 558.33 T
(tape and copied them to D0FS.) 324 546.33 T
0 9 Q
(7.2.1) 324 523 T
(copy_results_\337.csh) 351 523 T
1 10 Q
(\050in) 324 510.33 T
3 F
( $PRODIR/exe) 335.1 510.33 T
1 F
(\051. Handles creation of the RCP-\336les for) 394.77 510.33 T
(the \336ltered datasets; copied the RCP-\336les to D0FS.) 324 498.33 T
0 9 Q
(7.2.2) 324 475 T
(conv_prepare_rcp) 351 475 T
1 10 Q
(\050in) 324 462.33 T
3 F
( $PRODIR/r) 335.1 462.33 T
(eport) 384.98 462.33 T
1 F
(\051. Gets the datasets from the \336nished) 406.08 462.33 T
(\336ltered tape ST) 324 450.33 T
(A) 384.83 450.33 T
(T Rcp-\336le; calls) 390.93 450.33 T
3 F
(fm_r) 457.84 450.33 T
(cp.csh) 476.35 450.33 T
1 F
( to create a) 501.6 450.33 T
(FM-RCP \336le for each dataset.) 324 438.33 T
0 9 Q
(7.2.3) 324 415 T
(fm_rcp.csh) 351 415 T
1 10 Q
(\050in) 324 402.33 T
3 F
($PRODIR/r) 337.6 402.33 T
(eport) 384.98 402.33 T
1 F
(\051. Actually creates FM-RCP \336les;) 406.08 402.33 T
(using FL) 324 390.33 T
(TS RCP-\336les to extract information.) 358.9 390.33 T
0 F
(7.3) 324 358.33 T
(update_resource_table) 351 358.33 T
1 F
(\050in) 324 342.33 T
3 F
($PRODIR/tpm) 337.6 342.33 T
1 F
(\051. Updates the resource table for stand-) 396.45 342.33 T
(-alone nodes; checks that either reconstruction is running) 324 330.33 T
-0.34 (or the node is ready for the next job; cleans up after the job) 324 318.33 P
(has \336nished or crashed; \336nally changes the status of the) 324 306.33 T
(node in the resource table \050BUSY) 324 294.33 T
(, READY) 457.89 294.33 T
(, DOWN, or) 496.02 294.33 T
(SPOOLER\051.) 324 282.33 T
0 9 Q
(7.3.1) 324 259 T
(start_job_now) 351 259 T
1 10 Q
(\050in) 324 246.33 T
3 F
($PRODIR/tpm) 337.6 246.33 T
1 F
(\051. Submits a tape job to the stand-alone) 396.45 246.33 T
(node; in this case tape mounting is handled by the stand-) 324 234.33 T
(-alone node itself.) 324 222.33 T
0 F
(7.4) 324 190.33 T
(update_farmlet_table) 351 190.33 T
1 F
(\050in) 324 174.33 T
3 F
($PRODIR/tpm) 337.6 174.33 T
1 F
(\051. Handles the job submission for farm-) 396.45 174.33 T
-0.21 (lets \050I/O server nodes with worker nodes attached\051. Makes) 324 162.33 P
(disposition of available tape drives. Submits shells to the) 324 150.33 T
-0.14 (I/O servers; mounts input and output tapes on the I/O serv-) 324 138.33 P
(ers; copies and catalogues the results of the \336nished jobs.) 324 126.33 T
(Handles interaction with FM via stage_in_use_on_unix_-) 324 114.33 T
(farm queue on D0FS.) 324 102.33 T
FMENDPAGE
%%EndPage: "17" 18
%%Page: "18" 18
612 792 0 FMBEGINPAGE
54 750.68 540 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(TPM For Streaming) 255.8 739.85 T
54 726.98 540 726.98 2 L
0.25 H
N
54 75.33 540 75.33 2 L
2 H
2 Z
N
0 10 Q
(18) 54 59.95 T
0 9 Q
( of) 65.11 59.95 T
0 10 Q
( 19) 76.1 59.95 T
0 9 Q
(TPM Production Manager Operator) 273.81 59.95 T
(\325) 422.96 59.95 T
(s Manual and User) 425.12 59.95 T
(\325) 504.87 59.95 T
(s Guide) 507.03 59.95 T
(7.4.1) 54 678 T
(start_mu_shell) 81 678 T
1 10 Q
(\050in) 54 665.33 T
3 F
($PRODIR/tpm) 67.6 665.33 T
1 F
(\051. Starts a remote shell on a I/O server) 126.45 665.33 T
(node of the farmlet; the shell is con\336gured in correspon-) 54 653.33 T
(dence with a project requested.) 54 641.33 T
0 F
(7.5) 54 609.33 T
(copy_results.csh) 81 609.33 T
1 F
-0.14 (\050in) 54 593.33 P
3 F
-0.14 ( $PRODIR/tpm) 65.1 593.33 P
1 F
-0.14 (\051. Copies the DST) 126.31 593.33 P
-0.14 (s for the \336nished tape;) 197.37 593.33 P
(creates and copies to D0FS RCP-\336les for ST) 54 581.33 T
(As and DST) 231.7 581.33 T
(s.) 280.42 581.33 T
0 9 Q
(7.5.1) 54 558 T
(copy_dst) 81 558 T
1 10 Q
-0.49 (\050in) 54 545.33 P
3 F
-0.49 ($PRODIR/r) 67.11 545.33 P
-0.49 (eport\051) 114.48 545.33 P
1 F
-0.49 (. Copies the DST) 138.91 545.33 P
-0.49 (s to D0FS according) 205.58 545.33 P
(to the ST) 54 533.33 T
(A) 89.85 533.33 T
(T RCP-\336le for the tape in question.) 95.96 533.33 T
0 9 Q
(7.5.2) 54 510 T
(uptest) 81 510 T
1 10 Q
(\050executable image in) 54 497.33 T
3 F
( $PRODIR/exe) 137.26 497.33 T
1 F
(; source available in) 196.93 497.33 T
3 F
($PRODIR/sour) 54 485.33 T
(ces) 115.26 485.33 T
1 F
(\051. Checks that D0FS is up and running;) 128.02 485.33 T
(also checks that FM and PROD_DB areas are writable.) 54 473.33 T
0 9 Q
(7.5.3) 54 450 T
(check_buffer) 81 450 T
(.csh) 136.44 450 T
1 10 Q
-0.33 (\050in) 54 437.33 P
3 F
-0.33 ($PRODIR/exe) 67.27 437.33 P
1 F
-0.33 (\051. Checks that D0$DA) 124.44 437.33 P
-0.33 (T) 211.73 437.33 P
-0.33 (A$BUFFER area) 217.04 437.33 P
-0.1 (on D0FS has an adequate space to accept DST) 54 425.33 P
-0.1 (s. Currently) 238.5 425.33 P
(set to 600 Mb.) 54 413.33 T
0 9 Q
(7.5.4) 54 390 T
(check_transfer) 81 390 T
(.csh) 144.44 390 T
1 10 Q
(\050in) 54 377.33 T
3 F
($PRODIR/r) 67.6 377.33 T
(eport) 114.98 377.33 T
1 F
(\051. Checks the status of the DST trans-) 136.07 377.33 T
(fer via zftp.) 54 365.33 T
0 9 Q
(7.5.5) 54 342 T
(conv_prepare_rcp) 81 342 T
1 10 Q
(\050in) 54 329.33 T
3 F
($PRODIR/r) 67.6 329.33 T
(eport) 114.98 329.33 T
1 F
(\051. Creates and copies ST) 136.07 329.33 T
(A and DST) 232.7 329.33 T
(RCP-\336les.) 54 317.33 T
0 9 Q
(7.5.6) 54 294 T
(fm_rcp.csh) 81 294 T
1 10 Q
(\050in) 54 281.33 T
3 F
($PRODIR/r) 67.6 281.33 T
(eport) 114.98 281.33 T
1 F
(\051. Creates FM RCP-\336le for a given) 136.07 281.33 T
(DSN.) 54 269.33 T
0 9 Q
(7.5.7) 54 246 T
(fm_mcrcp.csh) 81 246 T
1 10 Q
(\050in) 54 233.33 T
3 F
($PRODIR/r) 67.6 233.33 T
(eport) 114.98 233.33 T
1 F
(\051. Creates FM RCP-\336le for a given) 136.07 233.33 T
(DSN that conforms to D0 Mote-Carlo \336lename conven-) 54 221.33 T
(tions.) 54 209.33 T
0 9 Q
(7.5.8) 54 186 T
(check_transfer_rcp) 81 186 T
1 10 Q
(\050in) 54 173.33 T
3 F
($PRODIR/r) 67.6 173.33 T
(eport) 114.98 173.33 T
1 F
(\051. Checks the RCP-\336les transfer sta-) 136.07 173.33 T
(tus.) 54 161.33 T
0 F
(7.6) 306 677.33 T
(start_farmlet_job) 333 677.33 T
1 F
(\050in) 306 661.33 T
3 F
($PRODIR/tpm\051) 319.6 661.33 T
1 F
(. Mounts an input or output tape on a) 381.78 661.33 T
(remote farmlet I/O server) 306 649.33 T
(. Marks appropriate tape VSNs) 407.3 649.33 T
(as used; updates process table.) 306 637.33 T
0 9 Q
(7.6.1) 306 614 T
(check_invol.csh) 333 614 T
1 10 Q
(\050in) 306 589.33 T
3 F
($PRODIR/exe) 319.6 589.33 T
1 F
(\051. Checks whether an input tape is) 376.77 589.33 T
(already in use on D0FS; if yes returns -1. If no then sub-) 306 577.33 T
-0.45 (mits a pseudo job to stage_in_use_on_unix_farm queue on) 306 565.33 P
-0.32 (D0FS to let FM know that the tape is in use on the farm. In) 306 553.33 P
(the latter case it returns queue entry number) 306 541.33 T
(.) 481.14 541.33 T
306 498 540 501 C
306 500.16 540 500.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(8.0) 306 505 T
(TPM For Streaming) 333 505 T
1 10 Q
(Being the general tool for production on Unix machines) 306 477.33 T
(TPM can be easily adapted for streaming. The streaming) 306 465.33 T
(operation includes reading previously reconstructed) 306 453.33 T
(datasets \050ST) 306 441.33 T
(A\051 and writing selected by the \336lter program) 354.33 441.33 T
(events to dif) 306 429.33 T
(ferent output streams. Thus this operation is) 355.23 429.33 T
(I/O rather than CPU intensive since it takes comparable) 306 417.33 T
(time to spool and process a dataset. W) 306 405.33 T
(ith respect to TPM) 458.83 405.33 T
(operations are very similar to operations in a sequential) 306 393.33 T
-0.28 (mode on the farms. The following paragraphs cover subtle) 306 381.33 P
(dif) 306 369.33 T
(ferences between the streaming and farm production.) 316.92 369.33 T
0 F
(8.1) 306 337.33 T
(TPM Scripts For Streaming.) 333 337.33 T
1 F
(The top-level script) 306 321.33 T
3 F
(tpm_submit_job) 386.78 321.33 T
1 F
(is identical to the) 453.69 321.33 T
(farms. The rest of the scripts have their streaming equiva-) 306 309.33 T
-0.12 (lents:) 306 297.33 P
3 F
-0.12 (update_str) 330.04 297.33 P
-0.12 (eamer_table) 372.42 297.33 P
1 F
-0.12 ( corresponds to) 422.39 297.33 P
3 F
-0.12 (update_farm) 485.59 297.33 P
1 F
-0.12 (-) 536.67 297.33 P
3 F
(let_table) 306 285.33 T
1 F
(,) 340.98 285.33 T
3 F
(start_str) 345.98 285.33 T
(eamer_job) 379.49 285.33 T
1 F
( corresponds to) 422.24 285.33 T
3 F
-0.57 (start_farmlet_job) 306 273.33 P
1 F
-0.57 (, etc. The biggest dif) 375.97 273.33 P
-0.57 (ference conceptually) 455.67 273.33 P
(between the farms production and streaming is that a new) 306 261.33 T
(logical machine is introduced: so called \322S\323 LM that is) 306 249.33 T
(responsible for the output on the streaming stations. Thus) 306 237.33 T
(the input for the streaming is handled by the regular LMs) 306 225.33 T
(whereas the output, which in the case of streaming) 306 213.33 T
(includes many output tapes, is handled by the \322S\323) 306 201.33 T
(machine. This \322S\323 machine also supports the running of) 306 189.33 T
(the) 306 177.33 T
3 F
(omni_mnf.csh) 320.71 177.33 T
1 F
( \050which is the functional equivalent of) 376.51 177.33 T
(the) 306 165.33 T
3 F
(d0r) 320.71 165.33 T
(eco_mnf.csh) 334.22 165.33 T
1 F
(\051 and the running of the) 383.91 165.33 T
3 F
(mer) 480.5 165.33 T
(ge) 495.68 165.33 T
1 F
(-utility) 505.11 165.33 T
(described below) 306 153.33 T
(.) 370.58 153.33 T
(The) 306 129.33 T
3 F
(r) 324.04 129.33 T
(esour) 327.56 129.33 T
(ce) 349.4 129.33 T
1 F
( \336le for the streaming looks very close to the) 358.27 129.33 T
3 F
(r) 306 117.33 T
(esour) 309.52 117.33 T
(ce) 331.36 117.33 T
1 F
( \336le for the farming, with project being set to) 340.23 117.33 T
2 F
(STREAMING) 306 105.33 T
1 F
(, and status to) 367.64 105.33 T
2 F
(STREAMER) 425.11 105.33 T
1 F
( \050as opposed) 481.74 105.33 T
(to) 306 93.33 T
2 F
(F) 316.27 93.33 T
(ARMLET) 321.64 93.33 T
1 F
( for the farming\051.) 365.51 93.33 T
FMENDPAGE
%%EndPage: "18" 19
%%Page: "19" 19
612 792 0 FMBEGINPAGE
72 750.68 558 750.68 2 L
2 H
0 Z
0 X
0 K
N
0 9 Q
(Acknowledgments.) 274.05 739.85 T
72 726.98 558 726.98 2 L
0.25 H
N
72 75.33 558 75.33 2 L
2 H
2 Z
N
(TPM Production Manager Operator) 72 59.95 T
(\325) 221.15 59.95 T
(s Manual and User) 223.31 59.95 T
(\325) 303.06 59.95 T
(s Guide) 305.22 59.95 T
0 10 Q
(19) 522.29 59.95 T
0 9 Q
( of) 533.41 59.95 T
0 10 Q
(19) 546.89 59.95 T
(8.2) 72 677.33 T
(Merge Utility) 99 677.33 T
(.) 158.24 677.33 T
1 F
(In order to reduce the number of the output \336les we are) 72 661.33 T
(dealing with \050each input \336le spawns N output \336les, where) 72 649.33 T
(N is the number of streams\051 the \336les are mer) 72 637.33 T
(ged per run.) 249.74 637.33 T
(There are several criteria used to decide which \336les and) 72 625.33 T
-0.33 (when to mer) 72 613.33 P
-0.33 (ge. Firstly) 121.12 613.33 P
-0.33 (, there is a minimum number of \336les) 160.68 613.33 P
(necessary to initiate mer) 72 601.33 T
(ging. Secondly) 169.25 601.33 T
(, there is a maxi-) 228.56 601.33 T
(mum number of hours which any individual \336le can stay) 72 589.33 T
-0.08 (on disk without being mer) 72 577.33 P
-0.08 (ged. Thirdly) 176.45 577.33 P
-0.08 (, if the space left on) 225.14 577.33 P
(the output disk is smaller than the prede\336ned number of) 72 565.33 T
(blocks, the mer) 72 553.33 T
(ging will be done for all \336les currently on) 133.17 553.33 T
-0.22 (disk until the disk utilization goes down. All these parame-) 72 541.33 P
(ters together with the stream names are de\336ned in the \336le) 72 529.33 T
3 F
(str) 72 517.33 T
(eam_names.$FMLPHYS) 82.18 517.33 T
1 F
(residing in) 183.23 517.33 T
3 F
($PRODIR/r) 72 505.33 T
(esour) 119.37 505.33 T
(ces) 141.21 505.33 T
1 F
(directory) 156.47 505.33 T
(. This \336le looks like the fol-) 191.9 505.33 T
(lowing:) 72 493.33 T
1 8 Q
(WZS01 X_ST) 72 470.67 T
(A01ZZZZZZZ_ALL00_WZSXX02 1 25 500000 8:) 117.33 470.67 T
(T) 72 448.67 T
(OP01 X_ST) 76.74 448.67 T
(A01ZZZZZZZ_ALL00_T) 115.42 448.67 T
(OPXX04 2 25 500000 8) 199.66 448.67 T
(F) 72 426.67 T
(AK01 X_ST) 75.85 426.67 T
(A01ZZZZZZZ_ALL00_F) 115.86 426.67 T
(AKXX02 2 25 500000 8) 199.21 426.67 T
(QC101 X_ST) 72 404.67 T
(A01ZZZZZZZ_QC102_NONEX00 3 25 500000 8) 115.56 404.67 T
(MIN01 X_ST) 72 382.67 T
(A01ZZZZZZZ_MIN02_NONEX00 3 25 500000 8) 116 382.67 T
(MU101 X_ST) 72 360.67 T
(A01ZZZZZZZ_MU102_NONEX00 4 20 500000 8) 117.33 360.67 T
(RGE01 X_ST) 72 338.67 T
(A01ZZZZZZZ_ALL00_RGEXX05 5 20 500000 8) 116.45 338.67 T
1 10 Q
(Here the \336rst \336eld is the name of the stream, the second) 72 315.33 T
(\336eld is the extension of the streamed ST) 72 303.33 T
(A for this \336le, the) 231.93 303.33 T
(third \336eld is the number of the outspooler) 72 291.33 T
(, the fourth \336eld) 237.89 291.33 T
(is the minimum number of \336les to be mer) 72 279.33 T
(ged, the \336fth) 237.84 279.33 T
(\336eld is the minimum free space on the output device) 72 267.33 T
(before the mer) 72 255.33 T
(ging starts, and the last \336eld is the maxi-) 130.1 255.33 T
(mum time a \336le can stay on disk before being mer) 72 243.33 T
(ged \050in) 272.24 243.33 T
(hours\051.) 72 231.33 T
(The third parameter \050a number of the output spooler\051) 72 207.33 T
(allows to combine several output streams on one output) 72 195.33 T
(tape. The number also points to a \336le) 72 183.33 T
3 F
(outspool_list_#.$FMLPHYS) 72 171.33 T
1 F
(, that contains the actual) 185.01 171.33 T
(device directory name from which the outspooler will) 72 159.33 T
(copy \336les to tape.) 72 147.33 T
0 F
(8.3) 324 677.33 T
(Streaming Data Flow) 351 677.33 T
(.) 449.49 677.33 T
1 F
-0.37 (The streaming executable \050or) 324 661.33 P
3 F
-0.37 (omni-\336lter) 441.86 661.33 P
1 F
-0.37 (\051 is running on the) 484.06 661.33 P
(same physical node on which the I/O is performed. Each) 324 649.33 T
(logical machine has its own home area on a separate disk.) 324 637.33 T
(The location of this area is as usual pointed to by) 324 625.33 T
3 F
($PRODA) 324 613.33 T
(T) 361.38 613.33 T
1 F
( area which can be obtained from the \336le) 366.94 613.33 T
3 F
(r) 324 601.33 T
(esour) 327.52 601.33 T
(ce.$FMLNODE) 349.36 601.33 T
1 F
( residing in the) 412.92 601.33 T
3 F
($PRODIR/r) 324 589.33 T
(esour) 371.37 589.33 T
(ces) 393.21 589.33 T
1 F
(. In this area there are two subdirecto-) 405.98 589.33 T
(ries,) 324 577.33 T
3 F
(inspool) 343.43 577.33 T
1 F
( and) 372.86 577.33 T
3 F
(raw) 392.29 577.33 T
1 F
(. An input spooler \050which number is) 407.19 577.33 T
(de\336ned in) 324 565.33 T
3 F
(r) 366.2 565.33 T
(esour) 369.71 565.33 T
(ce) 391.55 565.33 T
1 F
( \336le\051 spools input \336les into the) 400.43 565.33 T
3 F
(inspool) 524.54 565.33 T
1 F
(area. The next \336le to be processed is moved from) 324 553.33 T
3 F
(inspool) 523.57 553.33 T
1 F
-0.25 (to) 324 541.33 P
3 F
-0.25 (raw) 334.03 541.33 P
1 F
-0.25 (. The resulting streamed ST) 348.93 541.33 P
-0.25 (As are put into the subdi-) 457.91 541.33 P
(rectory of the) 324 529.33 T
3 F
($PRODA) 380.34 529.33 T
(T) 417.72 529.33 T
1 F
( area of the \322S\323 machine \050there) 423.27 529.33 T
(can only be one \322S\323 machine per physical node\051. The) 324 517.33 T
-0.18 (name of this directory is) 324 505.33 P
3 F
-0.18 (stain) 422.77 505.33 P
1 F
-0.18 (. The rcp-\336les created by the) 442.21 505.33 P
3 F
(omni_mnf.csh) 324 493.33 T
1 F
(are stored in the same directory in the \336les) 382.3 493.33 T
(with) 324 481.33 T
3 F
(.done) 344.27 481.33 T
1 F
( extension. This area serves as an input for the) 366.2 481.33 T
3 F
-0.48 (mer) 324 469.33 P
-0.48 (ge) 339.17 469.33 P
1 F
-0.48 (-utility) 348.61 469.33 P
-0.48 (. After mer) 375.17 469.33 P
-0.48 (ging occurred the resulting mer) 418.17 469.33 P
-0.48 (ged) 541.54 469.33 P
(ST) 324 457.33 T
(As are placed into the directories de\336ned in the) 334.86 457.33 T
3 F
-0.14 (outspool_list_#.$FMLPHYS) 324 445.33 P
1 F
-0.14 ( for the particular stream. The) 437.01 445.33 P
(mer) 324 433.33 T
(ged RCP-\336les are kept in the) 339.36 433.33 T
3 F
-0.77 ($PRODA) 324 421.33 P
-0.77 (T/$FMLNODE/r) 361.38 421.33 P
-0.77 (cpout) 428.2 421.33 P
1 F
-0.77 (directory) 452.14 421.33 P
-0.77 (. These RCP-\336les) 487.57 421.33 P
-0.03 (are used to create FM RCP-\336les when the tape is \336nished.) 324 409.33 P
(A script responsible for this is) 324 397.33 T
3 F
($PRODIR/exe/copy_str) 324 385.33 T
(eam_r) 418 385.33 T
(esults.csh) 443.17 385.33 T
1 F
(, which has the) 481.75 385.33 T
(same ar) 324 373.33 T
(guments as) 354.62 373.33 T
3 F
(copy_r) 401.82 373.33 T
(esults.csh) 429.2 373.33 T
1 F
( used on the farms.) 467.79 373.33 T
324 330 558 333 C
324 332.16 558 332.16 2 L
0.25 H
0 Z
0 X
0 K
N
0 0 612 792 C
0 12 Q
0 X
0 K
(9.0) 324 337 T
(Acknowledgments.) 351 337 T
1 10 Q
(I\325m grateful to Mark Galli who contributed to the Book-) 324 313.33 T
(keeping section and Hailin Li \050who wrote the GUI\051.) 324 301.33 T
(Advice and support of Lee Lueking and Adam Para is) 324 289.33 T
(much appreciated. Paul Lebrun helped us with learning) 324 277.33 T
(Explorer) 324 265.33 T
(.) 358.42 265.33 T
FMENDPAGE
%%EndPage: "19" 20
%%Trailer
%%BoundingBox: 0 0 612 792
%%Pages: 19 1
%%DocumentFonts: Helvetica-Bold
%%+ Times-Roman
%%+ Times-Bold
%%+ Times-Italic
%%+ Courier-Bold
%%+ Helvetica-BoldOblique
