
C EMUINC.INC  - include file for VAX graphics emulators
C=============================================
      INTEGER*4 IQD        
      INTEGER*4 DI3INI        
      INTEGER*4 DI3DIN        
      INTEGER*4 DI3ADV        
      INTEGER*4 DI3DEV        
      CHARACTER*4 DI3MDEV     
      EQUIVALENCE (DI3DEV,DI3MDEV)
      COMMON /DI3M/IQD(47),DI3DEV,DI3INI,DI3ADV,DI3DIN
      COMMON /DI3PR/JUNIT
C  POLYGON SCRATCH COMMON
      COMMON/PSCRAT/NPMAX,XPOLY(1200),YPOLY(1200),ZPOLY(1200),
     &    XXP(1200),YYP(1200),PARRAY(3,1200)
C
C-----------------SEGMENT COMMONS------------------------
C  CODE FOR EACH SUBROUTINE (FOR BRANCHING FROM DISPLAY LIST)
      COMMON/SUBIDS/PUTS,PUTSUP,
     &  I3DRAW,I3MARK,I3MOVE,I3POLY,I3PLGN,
     &  I2DRAW,I2MARK,I2MOVE,I2POLY,I2PLGN,
     &  IJCOLR,IJINTN,IJSTYL, IJWID, IJPEN,
     &  IJPEDG,IJPSTY,IJPCOL,IJPINT,IJMARK,
     &  IJPICK,IJPATH,IJFONT,IJJUST,IJRECT,
     &  IR3DRA,IR3MRK,IR3MOV,IR3PLY,IR3PGN,
     &  IRDRAW,IRMARK,IRMOVE,IRPOLY,IRPLGN,
     &  IJSIZE,IJBASE,IPLANE,I1STRG,I3STRG,
     &  ICALOB
      LOGICAL PUTS,PUTSUP
C  IMAGE TRANSFORMATIONS ON SEGMENTS
      PARAMETER (NSMX=200)
      COMMON/SEGTR/IASSO(NSMX),PXSEG(NSMX),PYSEG(NSMX),SXSEG(NSMX),
     &  SYSEG(NSMX),ROTSEG(NSMX),TXSEG(NSMX),TYSEG(NSMX)
C  CURRENT SEGMENT TRANSFORMATIONS
      COMMON/CURIMG/ITYCUR,PXC,PYC,SXC,SYC,TXC,TYC,CSC,SNC
C  SEGMENT BOOKKEEPING
      COMMON/SEGS/NSMXX,NSEGS,NUMSEG(NSMX),IVIS(NSMX),INDS1(NSMX),
     & NCALLS(NSMX),ITTYP(NSMX),IDETEC(NSMX),IFMODE,RJ4SAV(4,3,NSMX),
     & ISPRIO(NSMX),VISBL
      LOGICAL VISBL
C               NSMX    MAX. # OF SEGMENTS ALLOWED
C               NSEGS   CURRENT # OF SEGMENTS
C               NUMSEG  ID NUMBER ("NAME") OF SEGMENT
C               IVIS    VISIBILITY FLAG (0=NO, 1=YES)
C               INDS1   BEGINNING OF SEGMENT IN BLOC STORAGE
C               NCALLS  NUMBER OF SUBROUTINE CALLS IN THIS SEGMENT
C               ITTYP   IMAGE TRANSFORMATION TYPE
C               IDETEC  DETECTABILITY OF THIS SEGMENT (0=N0,1=YES) (PICKS)
C               IFMODE  =1 WHEN PLAYING BACK IN JFRAME (BLOCK PUTS)
C               RJ4SAV  INITIAL WINDOWS FOR EACH SEGMENT
C               VISBL   IF TRUE, DISPLAY DURING JROPEN-JRCLOS, IF
C                       FALSE SUPPRESS DISPLAYING WHILE STILL CREATING SEGS.
C  SEGMENT STACK FOR NESTED RETAINED SEGMENT CALLS (CALLOB)
      COMMON/SGSTAK/ISGSTK(50),IXSTAK(50),ICSTAK(50),JSTAK
C  SEGMENT STRING STORAGE CONTROL
      COMMON/FRAME/LFRAME,LENST
      LOGICAL LFRAME
C  SEGMENT BULK STORAGE FOR DISPLAY LISTS
      PARAMETER (NBLOC=500000)
      COMMON/SGSTOR/NBLOCX,SBLOC(NBLOC),ISPTR
      INTEGER IBLOC(NBLOC)
      EQUIVALENCE (IBLOC,SBLOC)
C               NBLOC   MAX SIZE OF BLOC STORAGE
C               SBLOC   THE DISPLAY LIST
C               ISPTR   POSITION OF CURRENT POINTER
C
C  DISPLAY LIST FORMAT:
C       ...,IDSUBR1,ARG1,ARG2,...
C       ...,IDSUBR2,DIM1,ARG1(1),ARG1(2),...,DIM2,ARG2(1),ARG2(2),...
C
C  PICK COMMONS
      COMMON/PKREGS/NPICKS,IPNOW,ISNOW,IPKSEG(100),IDPICK(100),
     & IPRIOR(100),PKXMN(100),PKYMN(100),PKXMX(100),PKYMX(100),
     & PDXAPR,PDYAPR
      COMMON/PICKY/NPSEGS,NMPSEG(100),IPECHO,IPBUTN,
     &  XECHO(6),YECHO(6),IASSOC(6)
C
C------------------RJ3 ARRAY (J3RGET)-----------------
      COMMON/DI3RJ3/
     &   XSIZE, YSIZE,   GAP,           
     &  XBASEN,YBASEN,ZBASEN,           
     &  XPLANN,YPLANN,ZPLANN,           
     &  XSIZED,YSIZED,  GAPD,           
     &  XBASND,YBASND,ZBASND,           
     &  XPLNND,YPLNND,ZPLNND,           
     &     XVW,   YVW,   ZVW,           
     &  VNORMX,VNORMY,VNORMZ,           
     &    VUPX,  VUPY,  VUPZ,           
     &   VDIST, HDIST, YDIST,           
     &   XPROJ, YPROJ, ZPROJ,           
     &   VVECX, VVECY, VVECZ,           
     &   UVECX, UVECY, UVECZ            
      REAL RJ3(3,13),UPVEC(3),VVEC(3),UVEC(3),NVEC(3)
      REAL VVIEW(3),VPROJ(3)
      EQUIVALENCE (UPVEC,VUPX),(VVEC,VVECX),(UVEC,UVECX)
      EQUIVALENCE (NVEC,VNORMX),(XSIZE,RJ3(1,1)),(VPROJ,XPROJ)
      EQUIVALENCE (VVIEW,XVW)
C------------------RJ4 ARRAY (J4RGET)-----------------
C  WINDOW SPECIFICATIONS
      COMMON/DI3RJ4/
     &   UMIN, UMAX, VMIN, VMAX,        
     &  VXMIN,VXMAX,VYMIN,VYMAX,        
     &  VCXMNS,VCXMXS,VCYMNS,VCYMXS,    
     &  XSCALE,YSCALE
      DIMENSION RJ4(4,3)
      EQUIVALENCE (UMIN,RJ4(1,1))
C------------------IJ1 ARRAY (J1IGET)-----------------
      COMMON/DI3IJ1/
     &  ISEGNM,INSIDE,IERROR,IDEBUG,ICOLOR,     
     &  IINTEN,ILSTYL,ILWID ,IPEN  ,IPEDGE,     
     &  IPSTYL,IPCOLO,IPINT ,IMARK ,IPICID,
     &  ICLRDF,IINTDF,ILSTDF,ILWDDF,IPENDF,
     &  IPEDDF,IPINDF,IPCLDF,IPNTDF,IMRKDF,
     &  IPIKDF,IPATH ,IFONTC,IHJUST,IVJUST,
     &  IPTHDF,IFONDF,IHJUDF,IVJUDF,IVISDF,
     &  IHIDF ,IDETDF,IPRIDF,ITYPDF,IWCLIP,
     &  IHCLIP,IYCLIP,IRIGHT,IPROJ ,IMODEL,
     &  IBATCH
      DIMENSION IJ1(46)
      EQUIVALENCE (ISEGNM,IJ1(1))
C------------------RJ16 ARRAY (J16GET)----------------
      COMMON/VIEW/MVIEW(4,4),MVINV(4,4),MMODEL(4,4)
      REAL*4 MVIEW,MVINV,MMODEL
      DIMENSION RJ16(4,4,3)
      EQUIVALENCE (RJ16,MVIEW)
C------------------SCRATCH---------------------------
      COMMON/DI3SCR/XBASE,YBASE,ZBASE   
     &            XPLANE,YPLANE,ZPLANE  
C
C -----------------DEVICES---------------------------
C  WINDOW, DISPLAY, ATTRIBUTES AND DEVICE TYPES.
      COMMON/VWORKS/WD_ID,VD_ID,HW_TYPE,
     &  ATB(4),ATB_LOC,CUR_COLOR,VCM_ID,
     &  RASP,XMARG,YMARG,
     &  WIDTH,HEIGHT,XSCALS,YSCALS,
     &  VCXMN,VCYMN,VCXMX,VCYMX,
     &  NDEVS,IDDEVS,IDEVTY,IDVUNI,IDVTY1,
     &  IUBASE,DEVOFF,HCPY,IOFFSET,IFONTY
      LOGICAL DEVOFF,HCPY
      INTEGER WD_ID,VD_ID,HW_TYPE,ATB
      INTEGER ATB_LOC,CUR_COLOR,VCM_ID
C  IDEVTY HARDCOPY DEVICE TYPES - 0=WORKSTATION,
C    1=POSTSCRIPT HARDCOPY, 2=COLOR POSTSCRIPT,
C    3=TEKTRONIX, 4=COLOR TEKTRONIX
C
C-----------------------------------------------------
C  ATTRIBUTE POINTERS - IATB=CURRENT, PARAMETERS=AVAILABLE
      COMMON/ATTRIB/IATB
      PARAMETER (ILINE=1,IPLGN=2,IFONT=3,ITEXT=4)
C-----------------------------------------------------
C  COLOR MAP
      COMMON/COLRS/NCOLRS,RVEC(50),GVEC(50),BVEC(50)
C
C  CURRENT POSITIONS
      COMMON/POSNOW/XPOSN,YPOSN,ZPOSN,   
     &  CRTX,CRTY,ARL  
      REAL XPOSN,YPOSN,ZPOSN,CRTX,CRTY,ARL
C-----------------------------------------------------
C  WINDOWING FLAGS
C  IFDFLT=0 MEANS DEFAULTS ARE IN EFFECT (ONLY JWINDO CALLED)
C  THE REST ARE FLAGS INDICATING JVPORT, JVSPAC, AND JWINDO CALLS.
      COMMON/WFLAGS/IFDFLT,IFSPAC,IFPORT,IFWIND,ITRANS,IMDEV
C  ITRANS = IFDFLT OR IPROJ OR IMODEL OR IIMAGE OR IMDEV
C  IMDEV=IFSPAC OR IFPORT
C    (FLAG TO INDICATE THAT A TRANSFORMATION IS NEEDED EITHER BECAUSE
C     WINDOWING HAS BEEN DONE OR A TRANSFORMATION HAS BEEN CALLED FOR)
C-----------------------------------------------------
C  OUTPUT FILE SPECS
      COMMON/OFILE/IUNIT,FILENAM
      CHARACTER*80 FILENAM
      COMMON/GUNIT/GRUNIT
      INTEGER GRUNIT
C  NONSTANDARD FEATURE CONTROL
      COMMON/NONSTN/STFONT,RZPOFF,SEGENA
      LOGICAL STFONT,RZPOFF,SEGENA


C  ***** DEV_ ATTRIBUTES, ETC.
      COMMON/GRFCTL/FANCY,IDFONT,IDTFNT
     &  IDCOLR,IDLSTY,IDLWID,IDFILL,IDFPAT,IDTFNT
      LOGICAL FANCY

C     FANCY  - TRUE IF FANCY GRAPHICS (FONTS, ETC) ARE LINKED
C     IDFONT - CURRENT FONT TYPE. 
C              -1 = HARDWARE CHARACTERS
C              0 =  STROKE FONT
C              1 =  ITALICIZED STROKE FONT
C              2 =  BOLD STROKE FONT
C              3 =  ITALICIZED BOLD
C     IDCOLR - CURRENT COLOR INDEX
C     IDLSTY - CURRENT LINE STYLE INDEX
C     IDLWID - CURRENT LINE WIDTH
C     IDFILL  - 0=DON'T FILL POLY, 1=FILL POLY
C     IDFPAT - CURRENT FILL PATTERN INDEX
C     IDTFNT  - FULL FONT TYPE (CDF,ROMAN,ETC)

C  ***** DEVICES AND TRANSFORMATIONS
      COMMON/GRFCT2/IDV,ICLR,IFILL,IDRUNI,IGSYNC,
     &    MODWIN,UMINZ,UMAXZ,VMINZ,VMAXZ,
     &    XSIZEH,YSIZEH,
     &    WNX,WNY,WNDX,WNDY,
     &    UMINH,UMAXH,VMINH,VMAXH,
     &    XSCAL,YSCAL,DXOFF,DYOFF,
     &    DVUMIN,DVUMAX,DVVMIN,DVVMAX,
     &    TMODEL(4,4),TDEVIC(4,4),TTOTAL(4,4),
     &    D2LINE,IPP,
     &    IHCDEV,HFILNAME,IHNAME,ICOTYP
      CHARACTER*80 D2LINE
      CHARACTER*80 HFILNAME

C     IDV    - DRIVER TYPE (1=PS,2=TK,3=TKTERM)
C     ICLR   - COLOR DRIVER ENABLED
C     IFILL  - CURRENT POLYGON IS BEING FILLED
C     IDRUNI - UNIT NUMBER FOR HARDCOPY OUTPUT FILE
C     IGSYNC - SYNC CHECK ON INITIAL CALLING SEQUENCES
C     MODWIN... - J_RZP3D ZOOM WINDOW CONTROL
C     WNX... - WINDOW PLACEMENT AND SIZE ON SCREEN
C     UMINH...- WINDOW CORNERS IN WORLD COORDINATES
C     TMODEL - CURRENT MODELLING TRANSFORMATION MATRIX (ROT, TRANS, SCALE)
C     TDEVIC - TRANSFORMATION FROM WORLD TO DEVICE (SCREEN,ETC)
C     TTOTAL - TOTAL TRANSFORMATION (PREVIOUS TWO PREMULTIPLIED)
C     D2LINE - LINE BUFFER FOR HARDCOPY OUTPUT
C     IPP    - LINE BUFFER POINTER FOR HARDCOPY OUTPUT
C     IHCDEV - HARDCOPY DEVICE NUMBER
C     HFILNAME - FILE NAME FOR HARDCOPY FILE (PROVIDED BY USER)
C     IHNAME - 0 = USE DEFAULT NAMES, 1 = USE HFILNAME
C     ICOTYP - 1=COLOR OR GRAYSCALE,2=BLACK&WHITE TERMINAL


